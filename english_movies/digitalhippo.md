NextJs course: Full stack Form builder, React, Typescript , Dnd-Kit, PostgreSQL, Prisma, Tailwind - YouTube
https://www.youtube.com/watch?v=QGXUUXy0AMw

Transcript:
(00:00) What's up guys My name is cliton and in this video We are going to Build this full Stack web page for Builder Let me show a quick demo We are going to create a New form called demo for YouTube We can design our form by dragging and dropping form Elements Over the designer we can customize the properties of Each Element and every Element Type has its Unique set of properties we can preview the form at any Time using the preview dialog after defining the form we can publish it and share the URL To Collect submissions we can View the form
(00:37) statistics and submissions on the details page we can Access and share the form submission page Let's try submitting the form You Will observe the validation errors we've set On our Fields Now Let's fill out the form and submit it Let's begin building this Project We are going to create our application with nextjs so Open the terminal and Type MPX create Next app latest Press Enter set A Name for the application in my case will be page Das form and then Select all the default options Let's Open the project with vs
(01:18) code the first step that We are going to do is to Set Up the authentication with Clerk so let's go in the Clerk documentation and let follow the tutorial on How to use CLK with nextjs so First of We are going to install CLK nextjs so let's Open back our terminal I'm going to Copy The Command paste it and Press Enter Perfect Now Let's Move to the second Point Let's go back to our Project Explorer Let's Create the dmv file and Inside We are going to Copy our Clerk Keys and we can find Those Keys in
(01:50) the Clerk Dashboard so let's go there then you can Sign In or Sign up so I'm going to Sign In and Remember that CLK has a free Plan that does not require Credit Card so let's go and create our application I will name m page form And I will use the default providers but you can Add as many As you want so let's go and click create application and now I can Copy this environment variables and paste on my dmv file Now Let's go back to the CL documentation and Let's follow the Point th So Back in
(02:24) our Project Explorer Let's Open the layout dtsx file so let's Copy this import and now let W the HTML tag with CLK provider Perfect Now Let's go to the of the tutorial and Back to our Project Explorer and in the root Folder Let's Add a file called middleware TS Let's Copy the content from the documentation and Let's paste it and by doing this we are protecting our routes by unauthorized Access Now Back To The documentation and let the what to is to create our Sign In and Sign up Pages so
(03:03) let's go back to our app Directory and Let's Create a out Group Folder so out And you can notice that I wrapped out with parentheses by doing this I'm creating a Folder that has no impact On our Route but is Used in Order to organize the code and Within this Folder I'm going to create My sign in route and then Inside the Sign In Folder I'm going to create a c segment like this sign in and Let's Close it then Inside the C segment I'm going to create page tsx and then Let's Copy the content from the
(03:38) Build your Sign In page documentation So This Tab here Inside our page tsx file Now we can do the same for the Sign up so let's duplicate the Sign In Folder Let's rename it Sign up Let's also rename the Catch segment into Sign Up And then Inside The Page file We are going to Copy page content Inside our file Now Let's scroll the documentation down and you can see that we have to update our environment variables so let's Open back the DV file and Let's Copy Those environment variables and
(04:13) Let's paste it then Let's go and start the Development server so MPM Run Dev and then Let's visit local 3000 and As You can see we are Being redirected to the Sign In page let TR in AND As You can we have been redirected to our Index page because we have set this behavior in the environment variables Now in Order to log out We have to use a Custom component exported by Clerk and this component is the user button As You can see in the documentation but we will use it later On On our navb layout Now
(04:50) before Moving ahead Let's check our Final result As You can see we have a Top navb that contains our logo our them switcher and the user button and we also main content of Our application Now We are going to define our main layout so let's go back to our application Back to vs code and Let's Open the terminal Now We are going to install shcn ui Which is an Amazing ui library buil On Top Of redx ui and in CSS so let's go back to our terminal and Type MPX Shad CN ui latest Space in it Select for typescript
(05:27) Select the New York Style color Leave the default Value for Global CSS file Select Yes for CSS variables Leave the default in config js location Leave the default alias components also Leave the default alias for utils and the selects for react server components Press Enter and Now We are going to install all the components that We need for our application so let's Type in The Terminal MPX shcn ui latest Add Now You Can Do CH picking and Pick Only the components that you need but in my case for simplicity I'm going to pick them
(06:04) all pressing the letter a and then I will Press Enter in Order to install them prenter again Now in Order to handle Dark Mode We are going to install Next themes so let's Type in our terminal MPM Install Next themes then Let's go to the project Explorer Inside the components Folder Let's Create a Folder called providers with Folder Let's Create a file called themeprovider tsx and then Let's Copy the code Inside the documentation in our Theme provider tsx file Now Let's go back to our app
(06:42) layout file and we are going to wrap the Body with the Theme provider like this and Let's Import the Theme provider from components provider Theme provider Perfect Now Let's go and create our main layout So Back to our Project Explorer Inside our app Folder Let's Create a Dashboard Group Folder so Inside parentheses and Inside Let's Create the file layout tsx and now Let me show a snippet that We will use often in this video called rfc and the snippet is provided by this extension called es7
(07:17) react redux react Native snippets Now Back to our code I will rename this layout then we will give to the layout Children of Type Now Let's Open the page file and let remove all the content andad with Hello Inside Now Let's go back to the layout file Inside the Dashboard Folder and then we are going to Style our screen with full background background Max h screen then with the div We are going to put tag then main tag and let put our children Inside We are going to Style the main tag Window full FX Grow then Let's go back to the tag and
(08:18) Inside Let's logo component a them switcher component and user button That froms then Let's the after Sign out URL property to to the Sign In rout Let's close this Now We are going to create our logo and our them switcher So Back to our components Folder Let's Create them switcher tsx this Will require user interaction So we are going to Mark this with use client in Order to make it a client component and I'm going to use rfc snippet then we are going to use the Us so const them set them equ use them and you can
(09:04) Import use them from Next themes then we are going to check if the component is mounted so set mounted set mounted equ state false Now we will use the mounted State in Order to Avoid redr errors so if is not mounted We are going to Return null And We need this because at server render time we know Us So what we are going to do is if the component is not mounted But if it's mounted We are going to the them switch Now We need to Set mounted to True When the components Mount and to do that we can use use Effect so use
(09:49) Effect and on the first render We are going to Set mounted to the Empty dependency Array and now Now back div and component can Import from ui Tabs Inside We are going to use Tabs list and you can Import it from ui Tabs and Inside the Tabs list We will have three Tabs trigger that you can from ui Tabs Now Let the default Value to be them in our Tabs component Let sty the Tab list with CL name B and then to the first Tabs trigger We are going to Set the Value property to light and also the on click event set Theme
(10:40) Light Let's put a Sun Icon Inside the Tabs trigger Sun Icon and you can Import it from Rui react Icons and Let's stle to be h1.2 r and a wid of the same Size so 1.2 R Let's close the tag Now Let's go back to our application and Let's define also the logo in Order to get RID of error so Inside the components Folder Let's Create logts and I'm using rfc Let's go back to our layouts file Let's Import both the logo and the Theme switcher from our component but I think I have a Type here
(11:20) so Theme switcher and also here Let's rename it switcher Let's go back Lay F and let Perfect Now before Moving on with the switch component theb justify between Border bottom Border Color of Type Border a fixed e of 60 pixels padding X4 and also padding y2 Now Let's WP the Theme switcher and the user button Inside a div and let sty the div to be Flex Gap items Center and then Let's Add item Center to our navb in Order to Center the logo Perfect Now Back To The Thin switcher component then we are going to Copy the Tabs trigger
(12:11) paste it two Times Let's replace this Light with Dark also here and we are going to use Moon Icon that you can Import from redx ui react Icons we are also going to give a Custom style to the moon Icon so let's also Add rotate 90 trans all and on Dark rotate Zer and As You can see when I switch back from Light to Dark the moon is rotating then we are going to Edit The Last Tab trigger so let's go to replace Light with System set them System and we are going to change Sun Icon with desktop Icon that you can Import from Rui react
(12:52) Icons Let's try Perfect and lastly Let's com this so Avoid R errors Perfect We are done with the them switcher component Let's go back to our logo file and Let's replace the div with a link component that we can Import from Next link Let's Write page form Inside then we are going to Set HF to our Link to be our Index page and lastly we are going to Style it so font Bold Tex exl background gradient to R from Indigo 400 toan 400 text transparent background clip and by doing this we are applying a gradient to our
(13:41) text and lastly on over cursor Pointer Now Let's check again our Final application and As You can notice the background color is different this Happens Because I Us a Custom shn ui them And I will show you now How to change it so let's go to ui.com click themes click customize and then you can change everything You can choose the col that you want the radius etc in my case I'm going to use the Grey color so I'm going to click Copy code Copy then Let's go back to the project Explorer Let's Open the global.css file
(14:19) and Let's remove the layer base that contains our Colors and Let's paste the new One Now Let's go and check our application and you can see we have ched the col to Match the col on the final That's How simple it is to change Colors and Custom Everything with Shut CN components of course You can customize Everything Add New Colors and Change the default values with New ones Now Back to our code Let's go and check our Final result and As You can see we have some Cards with statistics and also create
(14:55) New form button that opens a dialog so let's go back to vs code and Let's Open the terminal and Let's Type MPM Install Prisma Save Dev then Let's Type MPX Prisma in it and Now We are going to create our Pog SQL database on versel Which has a free Plan that not requires Credit Card so let's go to vers.
(15:20) com and then you have to Sign In or Sign up If you have account After log you can go to storage andate chg click continue Accept choose A Name for the database in my case will be page form and then Select a Region for your database in my case It will be Germany because It's Closer to Me so I will have a Lower Ping Perfect Now Let's click on the Prisma Tab Let's Copy this code Let's go back in our Project Explorer Inside the Prisma Folder Let's Open the schema Prisma file and then Let's replace the data Source DB snippet with
(16:02) the one that we have copied in the Dashboard then Let's go and Open the env file and Let's go back to our vers.com Dashboard and click dlocal then Copy the snippet and then Inside the dmv file Let's replace the database URL with the copied one we can Delete all these variables postgress user host password and database and also the postgress URL So you have to maintain postgress Prisma URL and postgress URL non pulling Now Let's go back to our schema Prisma file and let's start to define our database
(16:42) Tables and I Wan to point Something out for this Project You can Still use SQL Light database You are not forced to use Pog database So you can choose what you use the code will be compatible with both of them Now Let's go here and Let's Type Model form and also Model for submissions let's start by defining the Fields of Our form So we will have an ID of Type int Let's Mark it as the ID of the table and also default auto increment this will be the Primary Key of Our table then we are going to Add
(17:21) user ID of Type String Which is the owner of the form created at date Time field default Value of Now then we will have aan Field with default Value of FS then name of Type String description of Type String with a default Value of an Empty String then we will have a content String Field Which Will contain our Gon stringed form so the default Value for this will be a String that contains an Empty Array then we will have visits of Type and submission Type and can that we can Avoid the submission Field because we can just
(18:11) count the form submissions for this form but that will be Simply slower so in this case I think this Field is a good idea then we will have a share urlu Don't Want To Share our internal ID with other users Now Let's Move to our Model form submissions So we will also have an ID of Type int Let's Mark it ID and also default auto increment then we will have created at film of Type date Time with a default Value of Now a form ID Which We will use for our relation with the form Model Which is an int the
(18:57) form of Type Form Which is a relation on the Fields form ID That references the field ID on the form and lastly we are going to Add the content Which is a String Which Will contain the Gon stringi form submission So we only need Those two Models in Order to make this application so let's Open back our terminal and Let's Type MPX Prisma migrate Dev I'm calling the migration init DB Perfect Now Let's Type MX Prisma studio and As You can see we have a ui for our database and we can see that we have two
(19:37) Models Inside form and form submissions that right now are Empty Tables before going ahead with the code Let's go back to our Project Explorer Let's Open the Git in your file and Let's Add to local files also the file to our doing this We are going to prevent publishing and sensible datab Conne Ur andret Key to our Public repository make to Double check this Let's go and check our Final result again and what we are going to do Now is to create STS Cards and the create New form button So Back to our application
(20:19) and Let's remove un and then let go Andy div with container anding to let card STS wpp and Now We to our statistics from the database so let's go back in the project Explorer Let's Open the next.config.js file and Inside the configuration Let's Add experimental Server actions to True and I'm going to use server actions instead of Rest Apis because I think that in the next month We will have the stable Release that basically in ST completely repl Apis so Now Back To The project Explorer and let create in the
(21:06) root Folder a Folder called actions and with this Folder Let's Create forms file Let's Mark this file with use server and Now We are going to Export a function Get form stats Inside this function We are going to take the Current user so const user equ Current user Which is a function exported by CLK nextjs if the user is n We are going to throw an error and we are going to dec a Custom error so Class user not found R extends error and then if the user is n throw New user not found error Now We Need a way to
(21:50) Access to our database and we will use Prisma for that So Back To The project Explorer Inside the Folder Let's Create a file called And We to use code that you can find the Prisma do in Order to create our Prisma Cent Because We Are Just using a singl tone pattern in Order to Avoid some problems with nextjs and reloading so let's go back to our forms file and now const stats equ Prisma and you can Import it from lib Prisma form agregate and we are to use aggregate Because We to the of visit and submissions Filter userid
(22:34) user.id but we err that Okay This is a promise So we have to await it I forgot it and then we are going to take the Sum of the visits so visits through and also submissions then we declare const visits equal stats und visits Z and record and submissions submissions or Zero then we are going to calculate the submission rate con submission rate Let's go back to our end result and As You can see we have Total visits Total submissions submission rate and Bounce let go andine the formul For Those two Fields let go
(23:26) back to ourc and then we can calculate the submission rate only if visits are not Zero so let's Change it to be let submission rate Zer and then if visits greater than Zer then submission rate equal to submissions divided by visits Let's wrap Those in parentheses and then Let's multiply for 100 because Those are percentage and lastly we are going to calculate the Bounce rate So What we can do is const Bounce rate 100 submission rate and finally We are going to Return so visits submissions submission rate Bounce rate
(24:13) Now Let's go back to our page tsx file now to our card stats wrapper we can Add const stats equals a Get form stats You can Import Those from actions form Let's Mark the function then we are going to Add stats card component that we have to define with a loading state FSE and data takes stats and Remember that every component created with this new app Folder is a server component by default and you can Turn It in a client components by using The Use client directive at the Top but in our case We are going to use server
(24:53) components at susp to Those components in Order to Show a loading state that and before proceeding Let's go and check our Final application let Reload the page and As You can see There is a loading state while loading the information So Back to our application and Let's Create function stats Cards and also Change this to became stat Cards We are going to Give It some properties of Type stats Cards props and Let's go and define interface Cards props Inside we have data and going to type the data with Return Type Type off
(25:33) Get for stats basically We are going infer the type of this function and As You can see the data contains the right Fields but There is a problem because it says that is a promise so in Order to get the RID Of The promise Type We are going to wrap Everything with the awaited keyw so let's do this and now As You can see data is typed correctly then loading buan Now Back to our stats Cards function So we are going to deconstruct the properties so data loading equal props and then I'm going to create a
(26:11) stat card for each properties We are going to div container Let's Style it full withing Top 8 Gap 4 Grid Grid Calls One and we will make this responsive So on MD break Point We will have two grid colums and on large breakpoint We will have Grid Calls for Now Inside our div Let's Add a stats card component that We are going to define later on and Let's Add some properties to it so a title the first One Will Be Total visits and now I want to use a Custom Icon for each Card component and for Icons We are going to use react
(26:53) Icons so let's Open back our terminal and Let's Type MPM Install react Icons Save Perfect and basically How react Icons Work is that Each Icon has a Small Prefix As You can see BS for example for the bootstrap Icons ci for the circum Icons etc and you can Import Each Icon from react Icons SL and then you can Put the Prefix of the Icon So Back to our Project Let's Add an Icon property to our stat Card and Inside I'm going to use l View Icon that I will Style with color text Blue 600 and then I'm going
(27:36) to view from react Icons and I forgot to close the Icon tag then Let's Add hel text All Time form visit then let's set a Value datait to loc String Order Format number Option the loading property Take loading andly we are Add Custom style to our card Class name Shadow MD Shadow Blue 600 Now We are going to define our stats card component function stats Card and Let's define the properties of the card We will have title Value Icon TT loading and Class name then we will Add a Type for properties so title of Type String Value
(28:36) of Type number Helper text of Type String Class name of Type String loading of Type boolean and Icon of Type react Node that you can Import from react then Let's Change I have an error here because to lo String is transforming my visit number into a String so let's change the Value Type from number to String then Inside the stats card component We are going to Return a card component that you can Import from components ui card Inside the card component We will use a Card hether and all the card components that
(29:14) We are going to use From this section will be imported from components ui card so Inside We are going to put a card title that you can Import from components ui Card and Inside the title We are going to see our title property then we are going to Add the Class name property to the Card and also i forgot to Import card heer then after the card title We are going to Show our Icon then after the card heer tag We will Add a card content component that you can Import from components ui Card and Inside We are going to Add a div Let's
(29:48) Style it Text to Excel font Bold and Inside the div We are going to see a loading Skeleton if the loading properties is to otherwise We will see the Value so let's conditionally render the Skeleton if loading then Skeleton and you can Import it from components ui Skeleton and Inside the Skeleton We are going to put a span that contains Zero Now in Order to see our Current result Let's replace The Hell String with a suspense component exported by react that contains our card stats wrapper Now let also
(30:37) loading Now complaining that data props is missing So we are going to make this property optional and Now we have Another complain because data is possibly n so undefined So we are going to use the question mark and FL the application and As You can see I'm seeing My Skeleton Now Back to our St Cards Now Let's Make the Skeleton to and you May think why we are using this span and we are using the span Element in Order to Set the Skeleton To The He of the text S so let's make this opacity Zero in Order to Hide that but
(31:21) the Skeleton As You can see maintains the right he then let Restore the loading condition and then after the loading is done We are going to see our Value Perfect Now Let's go and Add our hel text tag and Let's Style it text XS text muted for Ground Which is a Custom color that we have defined in our Theme As You can see and then Ping Top One Inside this tag We will have the Helper T property then Let's go and sty the card Header FX Flex Row item Center justify between Ping bottom to and lastly we are going
(32:04) to Style the card title text font Medium text muted for Ground Now Back to our wrapper and Now We are going to Add three more Cards so let's start with the second one Let's Change Total visit with Total submissions Let's change the color to Yellow all time submissions and Let's replace visits with submissions and also the blue Shadow with a yellow Shadow Perfect Now Let's Copy and paste it again so Now we will have the submission rate card Let's change the col to Green also here Let's change the Value to
(32:43) submission rate and also the Helper text Will became visits that result in submission Now Let's paste it Another time and Don't worry We will change the IC the end so let's change the title to be Bounce rate Let's replace the green color with a Red One Let's replace the Helper text with visits that live without interacting Perfect Let's change the Icons and we are done so for the submission I'm going to use fa vp forms for the submission rate I'm going to use h cursor click and for Bounce rate I'm
(33:25) going to use TB AR Bounce Now Let's go back to ours and Add fa vp forms from react Icons fa then Import h cursor click from react Icons h and the last One is Import TB Arrow Bounce from react Icons Perfect As You can see the is the here Sign Back to our code letc Sign as a String also here And are good Okay looks Great Now Let's go back to our Home component And after the Let's Add a separator that you can Import from components ui separator with a Class name margin y6 Copy it paste it and between the two separators Let's H2 name
(34:28) text for Excel font Bold Call span two and Let's Write your forms then Open back the project Explorer GO in the components Folder and Inside create a file called create form button Let's use use client directive and then rfc to create our button then Let's go back to the Dashboard page And after the separator Let's Add the create form button Now Back to our create form Button then Let's go and Import dialog dialog content dialog description dialog foter dialog heer dialog title dialog trigger from
(35:13) slui dialog then we are also going to Import two Icons that We will use so Import BS file Mark Plus from react Icons SL BS and also Import spinner from react Icons SL im Now Let's go Into the component and replace the div with a dialog Let's put a dialog trigger Inside and Let's Add as Child property Inside The dialog Trigger We will Add a button that you can Import from ui button and Let's Type create New form then After The dialog Trigger let dialoger and Within it Let's Add a dialog title the title will be create
(36:00) form And after the dialog title Let's Add dialog description and the content will be create a New form to start collecting responses Now As You can see i forgot to wrap Everything Inside dialog content so let's do that and now If I click the button As You can see the dialog is showing Now Let's go back to the code And after the dialog heer Let's Add a div and we will Style it so Flex Flex Call Gap and py4 and Now We are going to Show our form Inside the dialog so go back to the imports and Let's Add Import form form
(36:42) control form description form Field form item form Label form message and we are going to Import Those from slui form Let's Fix this typo then we are going to Import Zod resolver from at Hook form resolvers SL Zod then Import Star as Z from Zod Now before our component Let's Create the const form schema equal Zod object name Which will be Zod String with mean length of 4 and also description Field Which will be Zod string back form use can the from Rea form and Let's give a Type to this form inf type of
(37:43) form schema and then we are going to some options To The Use for So we going Add resolver resolver of the form schema per on submit function that takes the values and we are going to infer the values from the type of form schema So What we can do in Order to Avoid duplicating this line is to decare type for schema Type equal and Let's paste this code Now we can use form schema Type and also here we can use form schema Type and now As You can see the values are typed correctly then for Now Let's Do a Conso
(38:29) the then Let's go back to our dialog And after the dialog heering tag We are going to Add a form tag and we will spread the form Inside this form component and this form is the result Of The Use form h and Inside the form We are going to use a HTML form let's on submit function with form handle submit on submit then Let's go Style it P y2 Let's close the tag and then and Inside our form let a form Field Which will be controlled by our form control and Let's give a Name to the field that will be controlled so
(39:14) name and As You can see the form is inferring the types from our schema so let's speak name then we will have a render Field Okay let me Center the code and the render Field takes some argum ands react Node so in our case It will Return a form item and we will put Inside later on Now Let's Put the mouse Over the arguments and As You can see the arguments that we are getting contains a Field object a Field state and a form state and Now We need just the field properties so let's replace this with Field and Inside the form item
(39:54) We will have a form Label so Let's put name Inside a form control Let's put an input Inside and Let's spread the field to the input then Let's Import the input from components ui input As You can see and then Let's Add the form message Now we can close our form Field tag Let's save it and Let's see If everything is Working yeah looks Good then Let's Copy this form Field Let's paste it and Let's replace The Name with the description field so name description form Label description and
(40:31) everything Should Be fine Now Let's go and replace our input with a text area component that you can Import from ui text area and let's set rows to F and then after the form Let's Add a dialog foter and Inside Let's Add a button and Let's put Save Inside Let's Style the button so Class name full with and margin top perfect dis but dis the form is submitting form form state is submitting Let's Do the same Inside so let's remove the Save text and if the form form state is not submitting We are going to Show a span
(41:15) with Save Inside otherwise if the form form state is submitting we are to a spinner I am spinner two and then Let's Add the Animation to this Icon Class name animate spin Now in Order To Try it Let's invert the condition Okay Let's Restore the condition and then on button click We are going to submit the form So on click form handle submit on submit Now Let's go back to our submit function and Let's remove the log function Let Catch Block Inside the Catch We are going to show an error to so let's use to and you can Import it
(42:03) from ui use tost that takes a title so error A description Something went Wrong Please try again later and the Variant Which Will Give The color to our toast Will Be destructive Now We need to make an extra step in Order to Show the to so let's go back to our application Let's go in the main layouts file Which is under the Directory and Let's Add after the children a toer component that you can from componen ui toer Let's Add a Closing tag and Now Let's go back to our create column button Now We Need a
(42:42) backend function That creates the form On our database so let's go back to our actions Folder Let's Open the forms file and Let's Create Another function so Export async function create Form and we will have data parameter and we already know that data will be an object that contains name of Type String and also description of Type String or undefined but There is a better approach for the typing of the data Because We Can share the Z schema between client and server so let's go back to our Project Explorer
(43:19) Let's Create a New Folder in the root of Our Project called schemas Inside this Folder Let's Create a file called Form TS Now Let's move back to the create form button file and Let's Copy the const form schema and also the Type form schema Type We are going to Cut from here and paste On our schema file Now Let's go back and Import Z from Zod and Now I'm going to Export the schema and also the schema Type Perfect Now Let's go back to our create form button Let's Fix imports So we can Import form schema
(43:54) Type from schem form and and we can do the same for the form schema So we are going to Import it from schema's form Now I'm going to use organize imports in Order to remove unused imports and Now we can replace this Type with form schema Type and As You can see If we check the type of Our data It will be an object with a Name property And A description property Which is optional now I want to Show you Something El so let's Add a console log and Let's put name on server and also data dot name so
(44:27) Now Let's Open the terminal in Order to see the logs and Let's go back to our create form button dsx Inside the Try Catch We are going to await create form function Which can be imported from actions form and Inside We are going to pass values Let's make this function asnc And after this await function We are going to Show a success message so title success description Form created success ex and Nothing I don't have any error Which is strange Let's check back Oh yeah I got it we have to remove The Arrow function
(45:12) so let's put The onck Event like this Let's try again Let's Reload the page Now Let's put for example personal and As You theed isal Now in our on submit function and Let's try to Add a Custom name with a fixed length of three let's Try it now and As You can notice our server is not validating the data because If You Remember The form schema has a constraint on the mean Size of the String but the server is ignoring it so basically our api is not validating the data that it receives and we can define
(45:52) this validation step by using the form schema that We already have so let's go back in our actions Folder Inside the forms file Now We are going to Add the validation step to our create form function so let's go and Write const validation equal form schema Safe parts of data Now we have to check if not validation success then we are going to throw a New error form not valid so let's go Let's try it and As You can see we er Perfect Now Let's go back On our create form button Let's remove our mo
(46:32) Call and Let's values back again and As You can see If I call it with a valid String I Will receive the Call on the back Now Let's go back to our Action Let's remove this console log and Let's Add const user equal ait Current user if the user is not defined We are going to throw New user not found error If everything is We are going to create our form so const form equal a Prisma forcate and Inside the options We are going to Add data user ID will be user.
(47:13) id name will take data name and description will take data description we can also Write l code by destructuring it so const name description and we are going to get Those from data and then Let's remove this and Perfect Let's if not form throw New error went Wrong otherwise We are going to Return formid Now Let's go back to our create form button and for Now What we can do is just const form ID and we will use the form ID variable later on so Don't worry about that for Now we can just log it so form ID form ID Let's check If
(47:54) everything is Working F inspect Save form ID One Let's go to our Prisma studio Let's refresh the form page and As You can see we have our form Perfect also forgot a quick Fix that we have to do so let's go back to our schema Prisma and we are going to Add a Unique constraint on the name and the user ID basically a user cannot create two forms with the same name So let to the Bottom of the feld Unique name and user ID so Now Let's go back to the terminal and Let's Type MPX Prisma migrate Deb
(48:41) Yes Perfect Let's go back now to our code Let's Check the final result and As You can see We need to Style our create New form button and also We need to create this form card That is displayed for each form that we have created Back to our application and let's start by editing the create form button so let's go and Style this button so Class name Group Which is a feature of Tail that I will show you later Border Border Primary 20% h 190 pixels item Center justify centerx Flex Call over Border Primary
(49:26) over cursor Pointer Border Dash and also Gap then Let's Go inside the button and Let's Add an Icon so BS file earmark Plus Now Let's Import this so let's go there Import from react Icons BS then Let's go back to our button We are going to Style the Icon h8 W8 text muted for Ground and Now We are going to use this group variable basically we can Read The State of the Parent Element for example the over state and Change also the Child Style so Group over text Primary Now Let's try and As
(50:15) You can see on Over the Icon changes color Let's also Add a background background to this and then Let's W the create new font B texcel text muted for Ground and Group over text Primary then we are going to try Another Variant Variant outline and Let's remove the Border background Style we don't need that I think per nowb form button div Let's Style the div We are going to use a Gri display Grid Calls One So we are going to make it responsive So on Medium break Point We are going to use two columns and on large break Point We
(51:15) are going to use grids 3 And Let's also Add a Gap so As You can see Now we have colums if Iose it more we have one colum If I Open it More and make it wider I have three colums Now we have to display our forms so let's go at the Bottom of the file and Let's Create form card Skeleton component and then we are going also to create function form Cards Now Inside the form card Skeleton We are going to Return a Skeleton so let's go and Style the Skeleton Border 2 Border Primary 20 h 190 pixel full wid Now Let's Move to the
(52:01) form Cards function and Inside this function We are going to take our forms so const forms equal a weight Get forms Let's Mark this function asy and Now Let's go to our Action forms file and Let's Create the get form server Action so let's go back here so Export asn function get forms So we can Copy this first part Which is always the same So we Get the Current user and if we are not logged We are going to throw user not found error and then we are going to Return a Prisma form Find many Let's put our object So
(52:44) we are going to get all the form where the user ID is user.id and then we are going to Order our forms by the field Cre that with descending Order Perfect Now Let's go back in our page tsx Inside the Dashboard page tsx file and Let's Import Get forms from actions form then we are going to Return a fragment that contains our form so forms Map form and for each form We are going to Return a form card Let's Add a Key to it so form and also We are going to pass the form so form Now Let's go and define the form
(53:25) card components function form card Which take a form property and Let's Type the form with form that you can Import from Prisma client and As You can see Everything is typed correctly then Inside the form card We are going to Return a card Let's put a card he Inside Inside the card heer We will have a card title and the card title We will have aan and sty to be Flex item Center Gap and justify between and Inside the span We are going to put form name Now before Moving on We are going to display our Current results
(54:10) after the create form button We are going to use suspense and Inside the suspense We are going to use form Cards Now Let's addb to the suspense Sob and then let addb to the su Add One an Array with Elements We are going to Map over them and for each Element We are going to a form Skeleton card with the key l so if you want to increase or decrease the number of skeletons that We are going to Show you can just add or remove Elements to this Array IS Pretty Basic Now Let's try so I'm refreshing Perfect Now Let's go back
(54:52) to our form C component che again our Final result and As You can see we have the form name a badge that says if the form Is published or not the created time and also A description so let's go back to our Project Back to our card And after the form name what we are going to do is if form is published then we are going to Show a badge that you can Import from components ui badge that says publish otherwise Let's Copy this and paste it if the form is not published We are going to see a badge that says draft and
(55:31) the Variant will be destructive so Now I've Seen that I've Made an error and I've noticed That is not sty correctly Because the Class name that we have put on the span Goes to the card title so let's move it then we are going to Style the span again We are going to truncate the T and also We are going to Set the font B Perfect Now if truncate Works so let's duplicate this in Order to make the text overflow and As You can see we are truncating it Perfect Let's go back Let's remove this
(56:07) then after the card title We are going to Add a card description then we are going to Add the form created that date So we are going to use Format distance from date fns that takes two dates So we are going to Add form Cre and now so New date and options will be add suffix and As You can see it says about one hour AG then we are going to render if the form is published so form published and if Is true We are going to render a span Let's Style it Flex item Center Gap two and Within the Element We are going to Add
(56:46) an Icon called View that we have already imported from react Icons and we are going sty with name TT muted for Ground then we are going to Add Another span that contains form visits tooc String Now Let's Copy Those two Lines and paste it now Let's change the second l viw Icon with fa vp forms and we are going to change form visits into form submissions Now Let's check it so let revert the is the then let sty also card description item Center justify between text muted for Ground and also text SM Let's check it Perfect Now Let's revert
(57:40) back the condition and then After card heer We are going to Add card content Let's Style it so h 20 pixel rank text SM text muted for Ground and Inside we are form description Or no description Perfect then we are going to Add a card foter that you can Import from components ui Card and we are going to Add it after the card content and if the form is published we are going to see a button that you can Import from components ui button that Inside has a link component and you can Import it from Next link So we are going to h to
(58:27) forms and then we are going to Add form Let's close the link Inside The Link We are going to Add View submissions and also an Icon called vi WR Arrow Alt and we are going to Import it so let's go back to our imports Import from react Icon bi Now Let's also Import Another Icon that We will use later import from react Icons fa Now Let's go back to our Buttons and let Add some properties to the button as Child and with the as Child property Which is a Rui primitive We are going to use the Child as the Dom
(59:12) Element for the Parent button so our Sorry for the button Element so our button Will render this link component If we remove the Child We will have a button that Inside has a link let me you sot in Order to see the button Now Let's inspect the Now basically we have this div Which is the Card foter and you can see it by applying some Custom style to it for example Now As You can see we have this background Red Now Let's remove this and Let's remove the as Child property and now As You can see have a button That contains the link and
(59:55) but Class name with margin top text MD Gap Now Let's rever the condition To The Original One Now Let's Copy and paste this code Let's revert the condition and when the form is not published what we are going to see is a button that contains Edit form with the Icon Edit that we have imported earlier and we are going to change the hrf URL so let's forms with Builder Now we have to do Another thing so we are going to create a New form Let's Call It test form and Let's go back to our create form button
(1:00:35) component Inside the file create form button dtsx and you can notice that we have defined this form ID but we haven't Used it Yet Now is time to use it so let's go at the Top of Our component and Let's define const router equal use router Now We are going to Import use router from Next Navigation so let's go back to our code Let's remove the Conso log of the form ID and what we are going to do is router Push SL Builder SL and then we are going to Add the form ID now's try to create a New
(1:01:13) form demo form Save Ok so let's go back to our h page Let's go back to the final application and Let's see what we are going to build We are going to Build this page Builder with Drag and drop heavily Based on typescript so let's move on to our application and I forgot to Style the button so the Edit form button We are going Just to say Variant secondary and As You can see the color Has Changed Perfect Now Let's go back to our Project Explorer and Inside the Dashboard Folder Let's Create Another Folder called
(1:01:52) Builder and Within it a Dynamic route so Let's Create a Folder that contains ID Inside Square brackets and Inside the ID Folder We are going to create layouts page ts6 let's start it with rfc so let's go back here rfc Let's Add a children property so children Let's Type it Children of Type react Node and we are going to replace layout with children then we are going to Add loading page so loading and basically the loading page Will display the spinner while the Builder is loading So Back To The
(1:02:34) loading page so rfc I Will rename It loading Let's put a div and Let's Style it Flex item Center justify Center full with and full eight So we are going to Add a spinner Which is an Icon i spinner Number Two and you can it from react Icons Slim and then we are going to Style the Icon so Class name animate spin h12 with 12 Perfect and then lastly we are going to Add an error page so error dtsx the error page needs to be a client component so use client rfc error page Which takes an error and we are going to type error with default error
(1:03:20) Type then we are going to log this error so use Effect console error error and then Let's Add error as a dependency then Let's go and Style this div so Flex full with full full eight Flex Call item Center justify Center We are going to Show this page so let's go back to page tsx Inside the ID segment and we are going to throw New error test error Let's try so let's cck Edit form and we are on the error page back errs so As You can see the error page is not cented Let's go back to the layout
(1:04:00) file and let sty the div Flex full with Flex Grow margin X Auto Perfect Back to error tsx file Let's remove error page text Let's Add a title so Something went Wrong Let's Style this H2 text destructive Tex for Excel and then after this we going to Add a Button can Import from componen ui button as Child and Inside We are going to Add A Link hrf to the home and the text of the link will be go back to home Let's also Add a Gap between Those Elements Perfect Let's try it now Back to our psx file Let's remove
(1:04:44) the error Now Let's rename also this page with a better name Builder page this function takes some pars because It is a Dynamic root segment and params is an object that contains ID of Type String Let's go and Read this form so const form a weit Get form by ID but our form ID is not is not a String is a number so we are going to cast it number ID Let's Mark this function async because It is a server component and then we are going to extract ID from params Now We are going to create this backend function So Back to our actions
(1:05:25) forms file so Export a Sync function Get form by ID Which takes an ID of Type number we have to Check the user as always so let's Copy that and then Return a weight prisma.fi Where userid equ user.id and also ID Perfect Back to our page dtsx file and Let's Import Get form by ID from actions form and then Let's check if the form is null we are going to throw New error form not found and Now Let's Show the form name so let's click Back to our Edit form As You can see we have seen the spinner and we have the form name
(1:06:12) Perfect Let's go back to our preview and Now We are going to create this designer layout So Back to our application and what we are going to Return is a form Builder component that takes a form property with the form Now Let's go and create this component So Back in our Project Explorer Inside the components Folder Let's Create a new file called formbuilder dtsx this will be a client component so use client rfc form Builder Let's Add the properties so form and Let's Type Those form will be of Type form that you can
(1:06:51) Import from Prisma client and now Builder and Let's If everything is Working back to home Edit form is not Working because we have to Import Inside our page tsx the form Builder from components for Builder Now Let's refresh Okay Everything is Working Edit form Perfect Now We are going to Set Up our designer layout let repl div with main component We are going toy FX and then we are going to Add a div Inside the main component let sty FX justify between Border bottom two padding for Gap th items Center Inside
(1:07:39) the div We are going to Add an H2 tag that contains a span form Semicolon Let's Style the span with T muted for Ground and margin right Lety the and Medium then after the We are going to our form name Perfect Now after the H2 Element We are going to Add Another div and Style itx item Center Gap two and Inside We are going to Add our Buttons Let's start with preview dialog button then we are going to check if the form is not publ and if not We are going to Show a fragment contains The form button and also the publish form button
(1:08:29) Now We are going to create These three components So Back to our Explorer and Inside the components Folder Let's Add preview dialog button and we are going to use rfc Inside then we are going to Add a create form button then we are going to Add a Save form button then Let's Create it with rfc and then going to create publish form button rfc Perfect Back to our form Builder component and Let's Import the Buttons Okay Perfect Let's refresh the application Now We are going to Style Those Buttons So Back to the first One
(1:09:12) preview dialog button and for Now We are going Just to Return a button that you can Import from componen ui button with a Tex Inside so preview then we are going to import Icon so Import MD preview from react Icons slmd Now Let's Put the Icon Before The preview MD preview like this then we are going to Style the Icon so Class name h6 w6 then Back To The button Let's Add Variant outline and also Class name Gap two Perfect Now Let's Move to the Save form button Let's replace this div with button that you can Import from componen
(1:09:56) ui button Let's Make the Variant outline Class name G two Let's close the tag and Inside our button We are going to Write Save then we are going to Import an Icon so ort High Save as and you can Import it from react Icons high and then Before The Save text We are going to use it I save as Class name H4 W4 I have a typo here so let's Add a Dash between Gap and two Perfect then Let's Move to the publish form button and we are going to do the same that we have done for the Previous button So we are going to
(1:10:37) replace this div with a button that you can Import from components ui button Inside We are going to Write publish We are going to Import an Icon so Import MD outline publish and you can Import it from react icmd and we are going to use it before the the publish text MD outline publish Let's Style it Class name H4 W4 and lastly Let's Style the button so Class name Gap two text White background gradient to R from Indigo 400 to San 400 Perfect Now Back to our formbuilder dtsx file then we can rename this div to Nav
(1:11:20) If you prefer to have more semantic HTML and after the na tag We are going to Add Another div and we are going to Style it and this div Will contain our editor so let's go back to our preview so in Order to create this We are going to download an SVG From Hero patterns and in my Project I will use the Graph Paper One but you can choose Whatever You Want click on the card with the background that you want and click download unstyled SVG then go back in your Project Explorer and Inside The public Folder We are going to Add the SVG and
(1:11:55) before doing that I'm going to Delete These two SVG files because we don't need Those Perfect and As You can see I have renamed m paper. SVG Now Let's Copy it Let's paste it and rename this New One with paper Das Dark Now Back to our code Let's go back to our formbuilder dtsx and let's start styling this div so Flex full Wi Flex Grow items Center justify Center relative overflow Y auto h 200 pixels background Accent and As You can notice we have set the eight of the div And We need this in Order to prevent
(1:12:38) children overflow and you can also notice that we are applying Flex Grow and by doing this we are taking all the space That is available Now We are going to Add the background so BG Square brackets and Inside We are going to put URL and inside paper. SVG Now Let's Copy this Let's paste it and Let's Do the same for the dark One so Dark Semicolon and then Paper Das Dark Now We are going to change the color of Our Grid So Back to our paper.
(1:13:12) SVG and we are going to change the F property with hash D4 D4 D8 Let's check it Let's refresh and As You can see this is lighter Now Let's go back to Paper Dark Let's put back Dark Mode in our application and Let's change the F property with HH 525252 Let's refresh Perfect Now Back to our formbuilder dsx file and Inside this div We are going to write a designer component that we have to create So Back to our components and Let's Create designer dtsx file We are going to Mark this with use client and then rfc and we
(1:13:52) have our designer component Back To The form Builder Let's Import it now Back To The designer dsx file and before Moving on let's go back to the preview our Next step Will Be to design this Drops on container and also the Sidebar So Back to our code Let's Style this div so Class name Flex full wid and full eight and before proceeding with the drop zone We are going to install the nd kit library that provides Us Drag and drop functionality so let's Copy the Install Command Back to our terminal Let's paste
(1:14:24) it so MPM Install dnd kitc Press Enter and now Back to our code then Let's replace designer with another div that We will Style padding for full wid and then Inside this div We are going to Add Another div We are going to Style it BG background Max with 920 pixels h full margin auto rounded XL Flex Flex Call Flex Grow items Center justify Start Flex One and overflow Y auto Perfect and then Inside this D We are going to Add a p Element We are going to Style it with text 3xl text muted for Ground Flex Flex Grow
(1:15:12) item Center font Bold and Inside We are going to Write Drop here we have a Type here so Flex Grow and Before The Last div We are going to Add a designer Sidebar component Let's go and create it in the components Folder designers sidebars file so rfc designer Sidebar Back to our designer file and Let's Import it from designer Sidebar Now Let's go back to the designer Sidebar and Let's replace the div with a Side component and we are going to Style it with 400 pixels Max with 400 pixels Flex Flex FX Grow Gap two Border left two
(1:15:57) Border muted padding 4 BG background overflow Y auto h full and Since we don't have Elements for Now Inside We are going to Write Elements Now Back to our designer SX file and what we are going to do is to make this div a droppable container So Back to the Top of Our component const droppable equal use droppable and Inside we are gna put options ID designer Drop area and also data is designer Drop area to True and we will use this Custom Field later on when we will check If we are dropping a component Over the Drop area so Now We
(1:16:41) are going to Import the Us droppable Hook Import Us droppable from dnd kit Core then we have to WP our form Builder with dnd context in Order to use These hooks So Back To The form Builder dtsx file and Now We are going to WP Everything so wrap with abbreviation with dnd context component and you can Import it from dnd kit Core Now Let's go back to the preview As You can see we have a few Elements on the Sidebar for example the text Field one that we can Drag and drop Over the designer After dropping it we can see a
(1:17:20) preview of the form component and we can see a form preview component in the form preview Model and As You can notice we can interact with this component in the preview for each Element in the Sidebar We will also have Another component Which is the property component As You can see the textfield component has Those properties but we can Take for example the Select Field Let's click it in Order to see ITS properties and you can notice that we have some Custom properties designed for this component now the next step Will Be to create an
(1:17:54) interface in typescript for our form Elements and then we can use this interface in Order to create form Elements Let's go in the project Explorer and Inside the components Folder We are going to create form Elements the first thing that We are going to define are the Elements type of Our application so Export Type Elements Type this Type Will contain all the Elements Type that we can have in our application and then Let start with the first Element so the text Field One then later on We will Add for example another
(1:18:30) one which will be the number Field then we will Add the Select Field etc but for Now Let's Just start with One Field after this Type We are going to define Another Type called form Element and this Will Be The Core type of Our Project so the first Field of Our form Element will be the type of Type Elements Type then we will have designer component property Which is basically the component that We are going to see in our designer for each Element and this will be a react functional component Type then we will have the
(1:19:06) form component Which is a react functional component and this One If you remember is the component that We are going to see in the form preview or in the form submit page Back to our application and the last component that We need is the properties component so react functional component and then we will Need a variable that exports our form Elements so Export const form Elements and Just for Now Let's declare an Empty object Now We are going to declare the form Elements Type so Type form Elements Type and this Type will be
(1:19:42) an object and Each Key of the object must be an Element Type so key in Elements Type and the Value Linked to the key will be a form Element so Now You can over this Type and As You can see the Type is a text Field takes a form Element Now Let's go and Type the form Elements so form Elements Type and Now we have an error Because We need to implement the text Field property Inside form Elements object and let me explain why we are doing this basically by doing this we can Store a Gon object on the database and then we can just take the
(1:20:19) Type and do in our code form Elements then we can use the Type for example textfield and then we can render the components associated with the Type so let's go and define text Field but Now What we need here is a form Element So Back to our Project Explorer and Inside components Let's Create a New Folder called Fields and Within this Folder create a new file called textfield tsx Now Let's Mark this with use client then we are going to define the Type so const type of Type Elements Type and Let's choose textfield then we
(1:21:01) are going to Export const text Field form Element of Type form Element So Back to our form Elements dtsx and Let's use the textfield form Element and Let's Import it from Fields text Field Now Back to the text Field form Element and now As You can see typescript is complaining Type designer component for component and properties component Inside our So we can use Type that we have declared here and then we are going to define designer component Which is a react component so let's for example this for
(1:21:41) Now designer component Let's Copy this Let's paste it Times let rename One with form component and then The Last One properties form and here properties and is a valid form Element Now Let's check again the preview and As You can see We also have Buttons in the sideb for each Element and also some Custom properties for each component so let's go back to our code and Back To The form Elements file then to our form Element We are going to designer button Element this will be with an Icon of Type react react Element
(1:22:26) and also a Label of Type String and then we Need a way to create a form Element instance so let's define a construct function and for each instance of this form Element object what we Need Is a Unique ID because When we submit the form We need to save the answer for that specific ID so ID of Type String a form Element instance so let's go and define Form Element instance EXP Type form Element instance Which is an object that has ID of Type String the Type so Elements Type and then we Need a way to store the extra attributes for each form
(1:23:07) Field for example for the Select Field We need to save the options that will be available with the Select so let's define extra attributes Which is optional property and be a record of Type String and basically is an object that will have String Keys and Any Kind of Value so let's go back to the text Field form Element and typescript now is complaining that we have to Add the construct function and also designer button Element So we are going to Add Those so construct Which is a function that takes an ID of Type String and is
(1:23:45) going to Return an object so do and Inside the object We will have the ID the Type and extra attributes and the extra attributes that we have on the text Field will be Label and we are going to put for example I don't know text Field then we will have an Helper text and Let's put a default Value Helper text You can put Whatever You Want Inside then required Which is a boolean and the default Value is false and then a place holder for our text Field and Let's put Value here and Now We are going to Add the designer button
(1:24:21) Element so designer but Element Which is object that contains Icon and we are going to MD text Fields and we can Import it from react Icons MD and also Label and we are going to Write textfield You can put Whatever You Want in the Label This Is What will be displayed in the button in the Sidebar Elements then Let's go to the designer Sidebar file after the Elements text let sideb button Element that are going to define and set a property called form Element to be form Elements and we can Import it from form Elements text Field
(1:25:01) Now Back to our Project Explorer and in the components Folder Let's Create Sidebar button Element dtsx Let's Create it with rfc Back to designer Sidebar and Let's Import the component that we have just created Perfect Now Back to Sidebar button Element Let's define the properties So we have a form Element then Let's Type That So form Element is of Type form Element that can be imported from form Elements then we are going to extract the Label and also the Icon from form Element designer button
(1:25:40) Element then replace this div with a button so button and you can Import it from components ui button then we are going to use Icon as js6 Element but in Order to do that make Letter Ion anden Icon use Now Ion but we have an error so let's check it Let's go back to our designer button Element definition and we have to change this with react Element Type i forgot it back to sideb button Element and now perf h8 W Primary curs grab then and sty texs and Inside We are going to Show the Label then Let's go
(1:26:33) and Style the button Class name Flex Flex Gap h 120 pixels with 120 pixs cursor grab Perfect the buttoni to per button draggable so let's use the use draggable look exported by D kit core con draggable equal use draggable and you can Import it from dnd Das kit Core then we are going to Set the ID to be a String literal that contains designer button and also the type of the form Element form Element dot Type then we are going to Set Custom data It will be useful to know that we are dragging a Sidebar button Element so let's go and
(1:27:23) Add the Type form elementtype and also is designer button Element through Now Back to our button We are going to Set the Ref so Ref draggable Dots Node Ref then we are going to spread Inside the button properties draggable listeners and also draggable attributes and then we are going to change the appearance of this button while is dragged so so let's wrap our Class name with the CN function that you can Import from lib utils and what we are going to do is if draggable dot is dragging through then we will
(1:28:05) apply A Custom Style Which is Ring to Ring Primary and Now We Need a Drag overlay that We are going to Show while dragging our Element so let's Copy this component Let's paste it We are going to call it sideb button Element Dr overlay remove the Ref and listener and attribut and also the style applied while dragging So let remove this You can Get RID of this function if you want Now and then Let's Export this Drag overlay Now Back to our form Builder dtsx file and we are going to Add a Drug overlay
(1:28:40) wrapper component that We are going to define and in this Drag overlay wrapper We are going to render the Drug Elements So Back to Project Explorer and Inside the components Folder Let's Add Dr over wer let define it with rfc now the first thing that we have to do is Tock if are Dr Elements in Order to do that We are going to use our Custom Hook called use dnd monitor and you can Import it from dnd kit Core Inside this dnd monitor we can Add listeners for Drug Operations for example we can Add on Drug Start
(1:29:16) event listener We are going to define our Custom listener and for Now on Dr we going to log Drag item and Inside We are going to Add event then Let's go back to our form Builder and Let's Import Drag overlay wrapper from components Drag overlay wrapper then Let's go back to our Drag overlay wrapper and Let's try it so inspect Let's try to Drag this Element and my function is triggering perfect Now Back to our code Let's Change Now Back to our code Let's remove this div and Let's Add a Drag overlay component
(1:29:53) that you can from the kit Core and Inside We are going to Add a Custom Node Let's define this Node so const Node equal for example Let's put div no Drug overlay Now Let's try it and As You can see the no Drug overlay shows up Perfect Now in Order to trigger a render of the component We are going to save the Drag Element in the state so const dragged item set dragged item Which is State of Type Active that you can from dnd kit Core or null and the initial Value will be null then on Dr Start set Drag item
(1:30:33) to be event Active then we are going to reset the draget item So on Drag cancel We are going to Set set Dr item to null and we going to do the same on Drag and event Perfect Now We are going to Show a Custom Node Based on Dred item actually in our application There is also a designer button Element so let's check const is designer button Element and the way we can check If we are dragging a designer button Element or If you prefer a Sidebar button Element in Order to stay consistent with the names is to
(1:31:13) check if the data contains a particular Key Let's go back to our Sidebar button Element we have set in the data a Field called isid but Element set to So Back To The Dr overlay wer and what we are going to do isck if Dr item data Current is designer button Element and then we can just get RID of this by doing if Drag item n because we are not going to Show anything and then we are going to check if is sideb button Element then we are to the no to the Element Dr overlay replace const with and As You can see tyt is complaining
(1:31:59) that We need the form Element and we can recreate the form Element associated with this button because Inside our draggable we have also set the type property of the form Element So Back to our Drag overlay and what we can do is form Element takes form Elements of Type Type So let define the Type Type Drag itemdata Current Type Let's Import form Elements from form Elements and Now we have to cast the Type variable because actually it has any Type and we can't use any to Index our form Elements So we
(1:32:42) are Just going to say that Type is of Type Elements Type Perfect Now We to try and it as and the as can see I have a Custom Style on the Drop and also Drop preview So Back to our application Let's go in the designer file We are going to this div with the background to be the droppable zone so let's Select Let the to Dr and then toom Style we are overing an Element Over the drop zone Let's WP the Class name with the cm function You can Import it from lib utils and now what we can do is if droppable is over then we are going to
(1:33:37) Set Ring to Ring Primary 20% Let's try Now Perfect and Now We need to display the Drop preview so after the paragraph tag We are going to Add if droppable is over then we are going to display a div with style P4 full Wi and Inside the div We are going to Add Another div with a Custom Style h 120 pixels rounded MD BG Primary 20% Now Let's try it Okay we are showing it but in the Wrong position So we are going to the paragraph and we are going to Hide it where we are overing so if not droppable is over TR
(1:34:24) Now Perfect the next step Will Be to actually the dropped Element in the state So we can go and set const Elements set Elements use state and you can Import it from react of Type form Element instance but we have a Type here so let's go and Fix It Back To The form Elements file and we are going to fix the typ rename symbol form Element Perfect Back To The designer Let's Change this form Element instance Array and the default Element will be an Empty Array but Since we are going to use the Element also in the
(1:35:06) Model preview We are going to store these Elements in a separate state So we are going to use react context so let's remove this line Back to Project Explorer and Inside the components Folder Let's Create context Folder Within it We are going to create designer contexts We will Mark this with use client directive then we are going to define our designer context Type then we will have Elements of Type form Element instance Array then we will have Add Element function that takes an Index of Type number and also Element of Type
(1:35:43) form Element instance ands Nothing Now let create our contex Export con des Rea tye designer context Type or null the default Value Will Be null Now Let's go andine Export default function designer context provider that takes Children of Type children react Node re and then designer context provider that wraps children lex Fix the typo then We need to Add a Value to our context and Inside this object we have to Add Elements and Add Elements that we have defin in our Type so let's go here Let's Add const Elements set
(1:36:43) Elements use state and Import it from react we can Give it a Type form Element instance Array and the default Value will be Empty Array then we will need con Add Element takes Index of Type number and Element of Type form Element instance and what we are going to do is just to Set Elements Let's take the prev Value and Inside We are going to Add this New Element in the Index that We provide so const New Elements takes a copy of prev Which stands for prev then New Elements Index Zero because we are not going to Delete anything and also
(1:37:26) Element So we are going to Push this Element in this Index then we are going to Just Return New Elements Now Back To The Value object and we are going to Add Elements and also Add Element have here Perfect then Back To The project Explorer and Inside the components Folder Let's Create Another Folder called h Inside the Hook Folder Let's Create a Us designer TS file then use client rfc and Now We are going to use the designer contex so con context equal use context and you can Import it from react and we are going to use the
(1:38:05) designer context that you can Import from component context designer context then we are going to check if the context is null if context and by doing this we are checking that we are Inside a designer context provider so throw New error use design desex Now we are Tock if this error is throw So Back to designer and what we are going to do is const Elements Add Element and we are going to destruct Those variables From The Use designer Hook that you can Import from hooks use designer and As You can see we have an error use
(1:38:46) designer Must Be Used Within I have a typ here so let's go and Fix It Within a designer context Now Let's try back again Perfect in Order to fix this error We need to wrap our application with designer context provider Back To The project Explorer Let's Go In The App layout dtsx file and we are going to wrap the Theme provider so wrap with abbreviation with the designer context provider component and we can Import it from components context designer context and now Everything should work fine back
(1:39:21) to desertx file and Now We are going to listen the on Drag and event and then when it Happens We are going to call Add Element in Order to Add the Element to our Current Elements And after this We are going to Show the Elements in the designer So we are going to use use dnd monitor and Inside We are going to list on Drag and event that takes an event of Type Dr and event Let me out that we can use because we are in the designer component and the designer component is W by the form Builder component As You can see we
(1:39:59) have the designer component here and everything is wrapped by dnd context and every component that in some Way has a dnd context Parent can use the use dnd monitor Hook So Back to our designer dtsx file and Let's log What Happens so console.log Drag and event Now Let's try it and As You can see we are logging The Event content and Inside There is the Active and over property Which contains informations about the overhead Element and the dragged Element Back to our code We are going to extract Active and also
(1:40:38) over From The Event object then we are going to check if Active is false or over is false or null in this case We are going to Return we don't do anything in this case then We need to take the type of the dragged Element from the Active data so As You can see we have the Type and is designer button Element so First of all we are going to check if the draget Element is a designer button Element const is designer button Element equal Active datata Current is designer button Element and now if is designer button Element We are going to extract
(1:41:17) the Type so const Type Active datata DC then we are toate New Element New Element equ form Elements And are going to get the form Element of this Type so Type as Elements Type and then we are going to use the construct function that takes an ID and Now We Need a function that creates a Random ID so let's say ID Generator and Now We are going to define this function So Back to our Explorer in the Folder Let's Create a file called ID generate Generator and Flor Math Random 1001 and then String Back to our
(1:42:06) designer file Let's this from Generator and then we are going to Check the created Element console.log New Element New Element so As You can see the new Element has this ID Let's try it again Now we have Another ID Perfect Now Let's go and Add the Element to the Elements conta So Add Element the Index will be Zero because it's the first Element in our designer and also New Element Perfect Now We are going to Map Over the Elements and Show them in the designer So Back to our designer component and If
(1:42:45) There are Elements We are going to Show them if Elements length then we are going to Show a div Andy div with Flex Flex Call because we want to Show the Elements in column text background full with Gap two padding for Now We are going to iterate over our Elements so Elements Map Element and Returns Another Element called designer Element wrapper that We are going to define right now Key Element and Element Element Now We are going to define designer Element wer Because We need to define a Common behavior for designer
(1:43:29) Elements so let's go here and Let's define function designer Element wrapper that takes an Element Let's Type it so Element form Element instance and Inside the designer Element We are going to Return the designer Element component associated with the form Element Now Back to form Elements if remember form Element Type we have define this designer component and this is what we are going to Show in our designer So Back to designer dtsx then Let's Write const designer Element and we can obtain it from form
(1:44:05) Elements of the Type elementtype designer component Now we can show it so Return designer Element Let's refresh the application Now Let's try so we don't see anything the Element is So let log it console.log Elements Elements Let's the cons log yeah we have two Elements so basically We need to Check the style of Our designer component So Back to the textfield dtsx file and we have this div so for example don't know probably the text color text White yeah As You can see we have the designer component
(1:44:48) placed here Which is the Wrong position So Back Again We need to remove this Back To The designer dtsx and we are going to see this text paragraph only When there is nothing over it and Elements D length is equal to z0 Perfect Now Let's try to Add other components and everything Works as expected now the first thing that We are going to do is to Style our designer component So Back to the text Field the first thing that We are going to do in Order to make this code more readable We are going to define designer component
(1:45:26) and we are going to Return this so Return this so let's modify this with designer component The problem Now that We need to face is that this designer component doesn't have Access to the form Element instance that has created it So What we have to do is go back to our form Elements file So we can define properties for our deser component like this with an object and Inside We are going to define our properties and what we want is a Element instance of Type form Element instance Now Back to our textfield tsx file and As You can see
(1:46:07) now the designer component has this property So we can use it so Element instance We are going to type it Element instance equ form Element instance and now Element instance Element instance extra attributes that Can Be n Label Let's try it now and As You can see we have an error and the error is that Element instance is not define So Back to our designer file and if you scroll to the end you will have an error because now to our designer Element we have to pass also Element instance and will be the Element property that have
(1:46:51) here so let's TR Now and As You can see I can Read textfield Perfect Now Back to our Tex Field and we are going to Style this designer component and before designing it We are going to Just Fix Another Small Thing As You can see typescript Doesn't Know The Shape of the extra attribut object so let's go and extract extra attribut con extra attributes equ and we are going to use then use exra attribut property and then we are going to define our Custom Type Type Custom instance equals form Element instance Which is a
(1:47:33) Type and we are going to extend it and override the extra attributes Field so extra attributes of Type type of extra attributes and you can see that Now this Field is sty correctly now Back to our component We are going to define const Element instance now Can use Element variable Element extra attributes laab Perfect Now Let's Fix the text Let's remove this Let's go back to our designer and in our designer Let's remove the text background from the div that wps designer Element back field div FX FX G full then we are to remove
(1:48:28) and use the Label component that you can Import from componen ui Label Within the component We will have the text so Element extra attributes laab and we will also decorate this Label so if Element Extra attribut required Will Show the the Label We are going to show an input that you can from componen ui input We are going to Set the input Read only because we don't want interaction in the designer so Read only disabled then we will set the placeholder with Element extra attributes placeholder now I think That the best thing is to the
(1:49:12) construct Element extra attributes So Back to our code And after the Element variable Let's Add const Label required placeholder and also Helper text equal Element extra attributes so let's remove this also this and also this Perfect then after the input We are going to Show the Helper text if It is defined so if Helper text then we are going to Show a paragraph That contains the Helper text Let's Style this Helper text so Class name text muted for ground and text 0.8 RM Now Let's go back to our
(1:49:55) preview and As You can see for each Field and I mean every kind of Field that we can have in our application we have a Common behavior and Style So we have a card with a background we have some over Effects we have a Delete button and also we have this click for properties or Drag to move so Let's try and As You can see when I click I can see the properties and As You can see in the Element properties we have the extra attribut Fields for example Label placeholder Helper text and required then Another thing that we can do is
(1:50:27) take a designer Element and Drag it over Another Element and As You can notice we have this particular Style where we are going to Show the Top Border If you are going to Drop Above The Element or the bottom Border If you are going to Drop below the Element Now before Moving on Let me also show to you How we are going to implement this top Bottom Drag and drop behavior So Back to draw so the idea here is to Just Split the designer wrapper component with two divs positioned Absolute for example this One and also this One by doing this we are
(1:51:04) creating two different Drop zones Inside our designer wrapper Element and Thanks to this setup we can just check on the on dragover event and also On The onag Event Where to Show the Border and also Where To Drop the dragged Element So Back To The designer dtsx file and Now Let's wrap the designer Element Inside the designer Element wrapper with a div then we are going to Style the div Flex full wid h120 pixels item Center rounded MD background Accent 40% Px4 py2 Let's also Add Pointer events None so then we are
(1:51:48) going to create the Top Half and the bottom Dro use droppable and Add Which will be Element Plus top Because We need to specify A Different ID for each droppable or draggable Element otherwise We will have issues then we are going to Add some data Type Element Type Element Element and also is top Half designer data property Perfect Now letop let We willen to with bottom Half Let's change the Top String with bottom and also is bottom Half designer Element then we are going to create the Top Half div and also the bottom Half
(1:52:43) One Let's a fragment that WS Everything and before our Element We are going to Add div and going to Style it with Absolute then we are going to color it Just for Now in Order to see so background Green 500 full wid and h will be 1 Half Now in Order to position Something with Absolute We Need a Parent positioned with the relative let me Center Let's make this fragment a div then we are going to Style the div with relative h 120 pixels Flex Flex Call text for ground hover cursor Pointer round and MD Ring One Ring Accent and also Ring inset
(1:53:28) So we have styled Everything Now Let's go here and Let's round the Top Border of this div so rounded T Which stands for top MD Perfect and Now We are going to Copy and paste this div Let's change the background color to Red and Let's put bottom Zer and lastly we are going to change the Border to be round BD Perfect Now We need make Dro Ref equ top Half set Ref and for the other One Ref equ bottom Half set Now Let's see If everything is Working and to do that what we can do is just WP this Class
(1:54:12) name with the cm function and then the background Green and to do is over then we are going to Show the background Green background Green 500 so Let's try to over with an Element Over the Top Half of Each designer component so i refreshed the application Let's try Perfect Okay is Working As You can see Now Let's remove this we don't need this Let's remove also the cm function and Let's remove the background Red Perfect Now Back to our preview and Now We are going to Set Up over Effect So Back to
(1:54:49) our code Now We Need a state so let's Add it const mouse is Over and also set mouse is over We are going to use use state with a default Value of false You can also Type this with boolean then Back to our main div and we are going to Add some listeners tw So on mouse Enter and Inside We are going to Add set mouse is Over to then we will Copy this Let's change the event with on mouse leave and here we are going to Set the state with FS Perfect Now after the div That contains the bottom malf droppable We
(1:55:27) are going to Show Something if mouse is Over and in this case We are going to Show a fragment that contains a div and Inside this div We will have a paragraph That contains the text click for properties or Drag to move in Order to work Faster Let's invert this condition in Order to see what we are doing Now Let's Style the div to be Absolute and then We need to Center this div Inside the designer wrapper Element We are going to Set Top One Half left One Half and then we have to Translate Everything by One Half so Translate Minus Translate
(1:56:06) X One Half and also Minus Translate Y One Half Perfect then we are going also to Add a Small Animation animate puls then we are going to Style the text so Class name text muted for Ground and also text SM Let's make it Small then we are going to Show also the Delete button so before this div We are going to Add Another div and we are going to Style it so Absolute Right Zer h full and Inside We are going to Add a button Element that you can Import from components ui button Inside We are going to Add an Icon B Solid thrash and you can Import
(1:56:48) it from react Icons bi let Style the Icon so Class name h6 w6 Now Let's Style the button Flex justify Center h full Border rounded MD rounded left None and background Red 500 then Let's change the Variant of the button Variant outline Perfect and on button click We need to remove this Element so We Need a function called remove Element that takes the Element ID so let's go and implement this function Let's go back to designer context tsx file in the designer context Type Let's Add remove
(1:57:31) Element function that takes Ide of Type String and Returns Nothing then Let's Go inside our designer context provider And after the Add Element function We are going to define Another function const remove Element equal is a function that takes ID of Type String and then going to Set Elements prev Which stands for prev Elements Element Where element.
(1:58:00) id is not equal to ID So basically we are removing with the Filter Option all the Elements that are equal to this ID and then Let's Add the remove Element function to the Value Inside the designer context provider Now Back to our designer file and Inside the component designer Element wrapper we are const remove Element from use designer and As You can see Now Everything should work Let's try it So we have this component but when I H the mouse Everything is hiding so We need to put the condition To The Original One like this and Now Let's try it and now I can
(1:58:39) Delete Elements As You can see Perfect Now We are going to improve the on So we are going to Style the designer Element wer let W the Class name with the cm function and then if mouse is over We are going to Lower the opacity to 30 and then we are going also to Add opacity 100 here Let's try it now it is perfect Now we have to make the designer wrapper component a draggable component so let's go Before The return statement then we are going to define con draggable equal use draggable that you can Import from
(1:59:18) dndd kit Core the ID will be element.id Plus Drag handler and then we are going to Add some Custom data so Type elementtype Element ID element.id and also is designer Element through then Let's go back to our main We are going to Set Ref to draggable Set no Ref then we have to spread draggable listeners and also draggable dot attributes Now Let's refresh the application Let's try to Drag One Element so Let's Create three of Those and As You can see I can Drag it but I don't have a Drag overlay for
(2:00:01) this Element So Back to our Drag overlay wrapper file Now we can just add Another check so const is designer Element so dragged itemdata Current is designer Element and Element is then we are extract the Element ID property from Dr item Element ID equ Dr itemdata Current Element Now we have extracted the Element ID because what we are going to do is to get the Element from the designer context so We need to get all the Elements const Elements equ use designer Now we can El Elements l l equ Element ID if the Element is null we are going to Set Node
(2:01:01) equ div Element not found else We are going to recreate exactly the designer component and let me explain why we are doing this So Back to our preview Fields Lab two random values to distinguish the two Fields and the reason that We are going to Find the real Element Inside our Elements Array is because we want to see a Drag overlay That is equal to the dragged Element so As You can see If I Drag this Element I will have text Field two as a Drag overlay If I Drag this One I will have text Field 3 as a Drag overlay Perfect
(2:01:43) So Back to our code and now what we need to do is to const recreate the designer Elements designer Element component equ form Elements of Element Type and we are going to get the designer component and then we are going to Set Node to be designer Element component which requires the Element instance so Element Let's try it now and As You can see the Drag overlay contains My designer component Now We need to WP the designer Element with a div That contains the style that we have applied also to the designer Element wrapper
(2:02:21) Let's wrap Everything with a div and Let's Style this div so Class name Flex background Accent Border rounded MD H10 pixels full with padding y2 padding X4 Let's try it now Which is Way Better then Let's also load the opacity in Order to see the Drop preview so Let's try Now Okay Let's put Maybe to 80 yeah Another thing that have to do and you in the preview is that When I Drag this Element I'm going to remove it from My Current Elements I don't want to Show it So Back to our code Let's go back to
(2:03:05) the designer file and what we are going to do Inside the designer Element wrapper is that if draggable is Dring n Now AS Element Inside the designer Let's Move the next thing that we are to do Now is Show where the Element Will Be dropped So Back to our designer wrapper component Sorry designer Element wrapper Let's go until we find the div That wraps the designer Element and what we are going to do is add in our Class names top Half is Over and we are going to Border top and b top Ground We are going to Set the to the forg one and Now
(2:03:52) Let's Do the same for the bottom Half so bottom Half is over So bottom B Border B Sorry Border B also this Okay Let's try it as you can notice we have a Small layout shift and we don't want this so what we are going to do instead is remove this Custom Border style and before this div We are going to Show Something if top Half dot is over Is true in That case We are going to Show a div and this will be an Empty div that Will behave Like a Border so Absolute top Zer full with rounded MD rounded bottom None h 7 pixel so Let's try it
(2:04:36) yeah but we don't see Nothing Because I don't have a background so background Primary Let's again and now As You can see I can see this Border then we are going to remove the roundness of the bottom Border so rounded bottom None Let's again Which is better Now Let's Do the same for the bottom Half so let's Copy this put after the designer Element but you can just leave also On Top Of it Just a way for me to Remind me that this is the bottom Half and then we are going to change this to bottom Zero and also
(2:05:13) rounded top None Now Let's try Everything looks Good except for behavior that Happens When Over the Drop area As You can see when I'm Over the drop zone area the Drop preview box is displayed Let's Fix this Now in Order to do that Let's go back to our designer so designer component and what we want is just to Hide this If There are Elements So What we can do is that we can show this only When Elements length equ Zer Let's try Now so let's refresh the application Now I can it now that have
(2:05:51) More than Zer Elements I can see it anymore Perfect Now that we have made our designer Element wrapper a draggable component we have a problem Because I'm not able to click on my trash Icon this Happens because we have not defined a way to distinguish between clicks and Drag events so let's go back to our form Builder file and we are going to fix this by using dnd Kit S So we are going to Add to our dnd context a sensors property Let's say sensors and Now We are going to define Those sensors so const sensors equal use sensors that you
(2:06:32) can Import from dnd kit Core and Inside We are going to Add a mouse Sensor and we are going to define this mouse Sensor so const mouse Sensor equal use Sensor Inside we have mouse Sensor that you can Import from dnd Kit then some options to the mouse Sensor activation constra distance 10 Where 10 stands for pixels doing this We are going to activate our Drag event only If we click and Drag for at least 10 pixels Let's also Fix an error Let's Change use Sensor with use sensors Hook that you can Import from thee let again Now and
(2:07:16) now I can del My AS and if I Dr and move I can Drag and we will also Add a Sensor for touch input so const touch Sensor then use Sensor We are going to pass the Current Sensor so touch Sensor and also some options activation constraint Delay 300 Which stands for 300 milliseconds and also tolerance Which stands for pixels So let go back to use sensors and touch Sensor by doing this this application can also work on mobile Devices Now We are going to fix also The problem that We had with the Drag overlay in Order to fix this what we can
(2:07:59) do is just go in our Drag overlay wrapper and on the Node for the let me see designer Element Yes We need to Add on the Class names Pointer events None Let's try it again Let's refresh Everything and now As You can see Everything work fine Perfect Now We are going to create the properties form so in Order to do that We Need a way to Select a Current Element so let's go back to our designer context and Inside the context Type We are going to Add selected Element of Type form Element instance and also set selected Element
(2:08:42) and Now we will use the Type that We are going to get from set Elements Now Let me show you so const selected and then selected Element will be State of Type form Element instance or null and the Value is null now If you Over the set selected Element you will get the type of this setter So we can Copy and then we are going to Import this patch from react and also set state Action from react Perfect Now Back to our code and we are going to Export selected Element and selected Element and we have the Wrong Type here because
(2:09:21) selected Element can also Be null Now Let's go back to our designer file and Inside the designer wrapper Element We are going also to retrieve the selected Element and also set selected Element and what we are going to do is that If we click the main div So on click We are going to Set selected Element to the Current Element Now Let's try it and to that We are going to Show the Conso and also We are going to console.
(2:09:52) log selected l and we are going selected Element Now Let's try to click this and As You can see we have selected the Element There is a Small Issue that We need to address clicking the Delete button triggers also the Element Selection and this is caused by event propagation So What we have to do is on the click event We are going also to take The Event and also stop propagation del but and we are to do is take the Current event we are to stop the propagation of the even eop propagation Let's refresh Everything Let's try
(2:10:32) Now and now If I del The Element I'm not selecting anything Perfect and Now We Need a way to Restore the selected Element to null If we click outs in our designer let go back to our designer component Let S Element and selected Element and Inside div the second one We are going to Add on click event handler and we are going to check if selected Element then we are going to Set selected Element to Let's try it so I'm refreshing Everything so now I don't have selected Elements i Select One i Select The Other One And there is a
(2:11:16) Because We need also to stop propagation Inner click So Back to our designer wrapper component and Inside this on click that sets our selected Element We are going to Add e stop propagation Let's try Now As You can see the selected Element is null i click this and I Select the Element i click this One i Select The Other Element i click outside and I reset the selected Element and Now we can move on so let's Delete this console log and Now we have to Show a Custom Sidebar When we Select an Element so Back to our designer Sidebar
(2:11:51) component Inside the designers sidebars file and we are going to get the selected Element From The Use designer h so selected Element equal use designer that you can Import from components hooks use designer and Now We are going to create a property form Sidebar and also a form Elements Sidebar and now Based on the fact that we can show two different Things Inside this div We are going to create One For the sideb button Els and one for the properties Back to our Project Explorer and Inside the components Folder We are
(2:12:28) going to create a form Elements sidebars then Let's use RF Back To The designer Sidebar and Let's Copy the content of the Back to our form Element Sidebar and letl div Tex with copied Elements Lety Now Import this from Sidebar button Element and also Let's Import form Elements Perfect Now Back To The designer Sidebar and what we are going to do is If There is no selected Element We are going to Show the form Elements Sidebar otherwise if selected Element is not null We are going to Show the properties form
(2:13:10) Sidebar Now we have to define this so let's Copy this Back to components Folder Let's Create a new file called properties form Sidebar tsx then rfc Back to our designer sideb and Let's Import this Now Back to properties form sideb and Inside We are going to just get the selected Element from the Us designer Hook that you can Import from components hooks use designer and then we are going to Read the properties form from the form Element because If you remember Let's go back to our form Elements file Inside
(2:13:44) our form Element we have a designer component a Form component and also a properties component and we are going to use this So Back to our properties form Sidebar and what we are going to do is const properties form equal form Elements You can Import it from form Elements of the selected Element Type and then DT form component Now selected Element Can Be So we are going to Just check if is not selected Element we going to n and then to Show our properties form so let's replace this with this so Let's try it so If I click
(2:14:24) this Element As You can see I get this form component and if I click Outside the form component Sidebar disappears Perfect then we are going to Add Another div Before The properties form so div We are going to Style it Flex justify between item Center Inside We are going to Add pag and we are going to Style it text Small and also Tex for ground 70% and we are going to Write Element properties this will be the title of Our form then we are going to Add after the B tag a button that contains an Icon so ai outline close then we are going to
(2:15:05) Import the Icon so Import ai outline close from react Icons ai then we are going to Import the button from components ui button then Let's go and Add the button S Icon Variant Ghost and on click We are going to reset the selected El so set selected Element null so let's extract this set selected Element Now Let's try it Perfect Now we are Ready to start the form component implementation for our textfield Back to our textfield file and then we are to do the same That have done for the designer components so
(2:15:50) let's remove this Simple component and Let's define properties component then Let's Create the components of function properties component and As You can notice we are collating every component Inside the file where we are defining our Custom form Element and we are going to use this approach for each form Element that We are going to create So Back to our properties component and for Now We are going to Return properties in this component We need to Access extra attribut Fields in Order to Edit Those Fields Inside a form So Back
(2:16:27) to our form Elements tsx file and we are going to apply the same Change that We applied earlier for the designer component So we can just Copy this and replace the properties component Type with the copied one by doing this we are adding a property to our properties component then Let's go back to our textfield tsx and then we going to define Element instance property and Let's Type it so Element instance form Element instance and then we are going to cast the Element instance so const Element equal Element instance as Custom instance in
(2:17:05) Order to get the right Type definition So we can just use it form properties for Element extra attributes laab let Try basically We are seeing the Form think we have error So Back To The properties form sideb and Let's we have to change form component with the properties component and then we have an error Because the properties form is expecting Element instance property and we are going to Set it with selected Element Let's refresh Perfect Now Back to our textfield file and Now We are going to implement our form with react form and Z
(2:17:49) schemas so let's go and define our Z schema const properties schema equ Z that you can Import from Zod object and Inside We are going to put Label Which is a Zod String with mean length of Two and Max length of 50 and you are free to change Those settings then we have Helper text Which is also Z String with a Max length of then we have the Field Which is Zan with a default Value of FS and lastly we will have the placeholder Which is Z String Max 50 Now Back to our properties component We are going to define the
(2:18:32) form so const form equ use form that you can Import from react Hook form then we are going to type our use form So Back here Let's define Type properties form schema Type equ Zin type of properties schema Now Back to our use We are going to use properties form schema Type and then we are going to define the options for this form so the resolver will be a z resolver that you can Import from form resolver Zod that takes an argument and this argument will be our form schema so properties schema then we are going to
(2:19:11) Set the submit Mode of the form to be BL and going to this Save button that we have to click every time in Order to persist our changes then we are going to define the default values and we are going to Set the default values with the Current Value of the extra attribut so for example the Label Field will take Element DT extra attributes Label then Helper text Element extra attributes Helper text required Element extra attributes required and also placeholder Element attribut placeholder then we will need to update our form When the Element
(2:19:53) changes so We need so We need use Effect Hook and the dependencies will be the Element and also the form Inside We are going to do formet of the Element extra attributes then we are going to define a function called apply changes That is going to update our Elements and It will take values of Type properties form schema Type values and Inside We are going to call a function called update Element that we don't have but we are going to implement it that takes the Element ID take the Current Element So we are going
(2:20:29) to spread it Inside and then we are going to redefine extra attributes Now As You can see in this particular case values and extra attributes Has the same Shape So you can just spread values if you want but in my case in Order to make the video more easier to follow I will just go with the extended version so Label takes values Label Helper text takes values Helper text placeholder takes values placeholder and lastly required takes values required and if you prefer you can just distract Everything so const Label Helper
(2:21:08) text Place holder and also required from values and then you can use Those variables Label Helper text placeholder required Now We are going to implement this update Element in the designer context Let's extract it update Element from Us designer then Back to our designer context dtsx file and we are going to implement this function so let's start by defining the function in the designer context Type update Element Will Take an ID of Type String and also an Element of Type for Element instance and going to Nothing Now We are going to
(2:21:46) implement the function so Inside our designer context We are going to define const update Element Which is a function that takes ID of Type String Element of Type form Element instance Inside We are going to call set Elements that take the Previous Elements so let's Copy Those const New Elements equal spread of prev then we are going to Find the Element Index so const Index equ New Elements Find Index l l.
(2:22:19) id equals ID and Now We are going to Just update These Elements so New Elements Index equal Element Which is this Element that We are going to Pass to the function and then we are going to Return the new Elements Let's Add the update Element to our designer context Value so update Element Let's go back to our text Field and Now We are going to define the ui for our properties form So Back to our imports and we are going to Import form form control Form description form Field form item form Label and form Message from Let's go
(2:22:56) back One Folder so dot dot slui form Now Back to our properties component Let's replace the div with the form that we have imported then Let's spread the form on the properties of the form component Inside We are going to use a form HTML tag that on Blur Is going to form handle submit apply changes then we are going to Style this so Class name space y3 Let's close this form tag and Inside We are going to Add a form Field that will be controlled from form control the name of the field that you are going to Control in this
(2:23:36) case will be Label and we also have a render property Which is a function that renders our Field it takes an object that contain the field and Within this function We are going to a form item that contains form Label and in this case We are going to Set Label then we have a form control that contains an input and we are going to spread the field to this input after the form control we have form description and we are going to Write the Label of the field Let's addine Brick and then It will be displayed above the
(2:24:13) field And after the form description We will have the component then we are going to close the form Field tag Now Let's try it so I'm going to Edit this with New Field and As You can see when I clicked Outside the Blur Haven submitted My New changes then we are going to fix Another Thing because As You can see If I Change Something and I Press Enter My form is actually submitting and reloading The Page So what we are going to do is on submit e and then e prevent default then Let's go back to the input
(2:24:47) and we are going to Add on Key down e If e Key equ Enter then we are going to e Current target Blur Let's try it so I'm going to Write I will Press Enter I'm pressing Enter Perfect Now Let's Add the remaining form Fields so let's Copy the form Field Let's paste it then we are going Change name with Place holder the Label Will Be placeholder and then we change the form description with the placeholder Field nowy the field back theher name with hel T also the form Label with Helper text and the form
(2:25:29) description Will became the Helper text of the field bre and also It will be displayed below the field Ok Perfect Let's try this soer and per form feld is missing is required one as can see so let and define it Let's Copy the form Field back again Let's paste it Let's Change name with required also the form Label with required and As You can see typescript is complaining because we can't use an input component for aan Value So we are going to remove this we are also going to Style this a little bit CL name item
(2:26:15) Center justify between rounded LG Border padding 3 Shadow SM then Inside We are going to define a div and we will Style it Space Y 0.5 Now Let's wrap with this div form Label form control and form description then we are going to move out form control below the div and Inside form control We are going to Add a switch component that you can Import from components ui switch We are going to Set the checked property with fieldvue and Change the field on Change Now let close the Let's TR Perfect Now We are going to Add a
(2:26:58) separator to our sideb So Back to properties form Sidebar and we are going to Add a separator that you can from ui separator Let's also Add some margin so Class name margin bottom Perfect Now Let's try If everything is Working F We are going to Add El first One will be L1 the second one L2 and the Third One L3 Perfect and now that we can distinguish between different Elements with different labels we are Ready To implement Drag and drop functionalities between designer Elements because right now As You can see I can Drag the
(2:27:36) Element two after the Element three or if I try to Drag the Element three Before The Element One The Order of the Elements is not changing So we are going to implement this let me Point out application We will have different Dr and drop scenarios the first One is When we have a sideb Element Dr Over the Drops area the second one is When we Drag a Sidebar Element over a designer Element and the Third One is When we Drag a designer Element over Another designer Element Now let me Point out That the first scenario that we have
(2:28:11) already implemented actually is broken because As You can see when I have no Els leten Element to Element Let's try now to Drop Element again in our drop zone and As You can see the text Field is dropped in the first position because what we are doing Here Is Add Element on the first position what we are going to change is that We are going to Drop this Element in the last position So What we need is just replace this Zer with Elements l per notice that If I drop an Element over a designer Element is adding this
(2:28:52) Element in the last position and we can prevent this by Just checking the overhead Element So we are going to define const is dropping over designer Drop area We are going to Set this with overdata Current is designer Drop area and As You can notice we have set up this property Right here now Let's update the if statement with is dropping over designer area Let's try it back again so I'm refreshing the application so let's Drop the first Element I'm dropping an Element in the drop zone and
(2:29:29) As You can see is Working now I Will Try To Drop over a designer Element and As You can see is not Working Perfect now the first scenario is done then we are going to implement the second scenario We are going to Return let me comment this So you will find it back on the gith Rep code so first scenario dropping A Sidebar button Element Over the designer Drop area Let's remove this we can also Avoid This kind of Command because what we can do is just define a variable with a longer name for example dropping Sidebar button over designer
(2:30:07) Drop area and this will be a boolean that takes the Value by end operator and then we can use this variable Inside our If Longi canid We are going to handle the second scenario where we Drop a sideb Element over a designer Element const dropping sideb button over designer Element this will take is designer button Element and also Another variable that we have to define is dropping over designer Element Let's define This variable const is dropping over designer Element Now in Order to Set the Value for this variable
(2:30:56) Let's go back to our designer wrapper Element Which is at the End of this file and if you remember we have splitt the droppable into two droppa one for the Top Half and one for the bottom Half So we can just check If we are dropping in one of Those so let's scroll up again and then we are going to Set is dropping over designer Element top Half then overdata Current dot is top Half designer Element Let's Copy this Let's paste it and then we will Change top Half with bottom Half also here so is
(2:31:32) bottom Half designer Element and then we are going to define this variable so const is dropping over designer Element and we are going to check if is dropping over designer Element top Half or is dropping over designer Element bottom half and Now we can handle the second scenario if dropping sideb button over designer Element so Now We need to create and an Element in a specific position So we can Copy the code from the first scenario back here so just going to say second scenario for you will be easier to follow in the video
(2:32:08) Let me Add here scenario New Element Now this so the first thing that We need to Find is the Index of the overhead Element then we have to check If we are dropping Over the Top Half the bottom Half so the first thing is con over Element Index equ Elements Index l l over over elemente New error Element not found and then we are going to define const Index for New Element and in this case We are going to assum over Element Index basically i assume on top Half so then I can just check
(2:33:11) if Dring over Element bottom half thate New Element will be over Element Index Plus One then We need to Change const with let so Let's try it now Let's define this L1 L2 We are going to Drop before L2 we have an error Element not found so Let's see Why and basically over Ah Yeah I'm using the over ID Which contains St and That's why we have added the Element ID in the data So we can use That So const Over ID equ overdata Current Element ID Let's replace over doid with over ID Let's try
(2:34:00) it now We are going to Place this before Element two Perfect Now Let's try again We are going to Place this before Element One and we are going to Place this Over the drop zone That's Perfect We are done Now with the second scenario Now We are going to dragging designer Element over Another designer Element Let's make it false for Now So we can already use is dropping over designer Element because we already Def and Dring designer Element so let's define That const is dragging designer Element Back to our designer Element
(2:34:54) wrapper to check What we have and As You can see we can use the is designer Element property So Back to our code and then we are going to Read Active datata Current is designer Element and Now we can just check if dragging designer Element over another designer Element in this case We are going to Find the Index of the Active Element the Index of the overhead Element and then we are going to move the Active Element before or after the overhead Element so const Active ID equal Active D datata Current D Element
(2:35:34) ID we can do the same for the over One So Over ID overdata Current Element ID then const Active Element Index equal Elements Find Index l l.id equ Active ID Let's Copy this Let's paste it So Over Element Index over ID so Now What we are going to do is just to put the draget Element before or after the overhead Element We are going to check if if Active Element Index is equal to min One or over Element Index equ min1 then we are going to throw New error Element not found then we are going to make a copy of the Current Active
(2:36:22) Elements so const Active Element equal and then we are going to take the Element in the Elements Array That is on the Active Element Index and then we are going to Copy it with the spread operator then we are going to remove this Element so remove Element Active ID so let's Import this from the Us designer Hook remove Element Back to our code and then we can just add Element New Index and we are going to Add the Active Element Now We are going to Set the new Index and we can do basically what we have done in the
(2:37:00) second scenario so let's Take this Index for New Element We are going to replace this Let's refresh the application and Now We are going to check all three scenarios so Let's try the first one now We are going to Drop a text Field Over the Drop area perfect Now We are going to rename this into Element One and also this into Element two Now We are going to Drop the text Field Before The Second Element so Let's try it Perfect then we are going to Delete this then we are going to Drop the text Field Before The Element One
(2:37:33) Perfect and then we are going to Drop the textfield in the designer drop zone So probably What we can do in Order to Show that Better we can just make a bigger Ring we can make this Ring ins and also change the color so Let's try Now and As You can see If I drop Over the designer area You are going to see a better Ring Let's try to drop it and I'm placing IT in the last position Perfect then Let's try to Drop the second Element at the to Perfect Right Now we have covered all the Drag and drop
(2:38:06) functionality of the application Let's Now move in the preview of Our Final application Now What we are going to do let me create a simple form is to create this form preview and As You can see in the form preview We Can interact with the Elements so let's go back to our application and start implementing this Back To The project Explorer and Let's Open the preview dialog button dtsx then we are going to get the Elements From The Use designer Hook then we are going to Return a dialog component that you
(2:38:37) can Import from components ui dialog Within it We are going to Add dialog trigger that you can Import from components ui dialog and Inside this dialog trigger We are going to move our button and then we Add the as Child property To The dialog Trigger After The dialog Trigger We are going to Add dialog content that you can Import from components u dialog Let's Style the content so Class name with the screen h screen Max h screen Max with full Flex Flex Call Flex Grow padding Zero and also Gap Zer then Inside Let's Add div
(2:39:16) and we are going to Style this div with Px4 py2 Border bottom Inside this div We are going to Add a paragraph We will Style it text LG font Bold text muted for Ground Let's Write form preview Now Let's Open the form preview and Let's check it Perfect then Let's Add Another paragraph Let's Style it text Small text muted for Ground and Inside We are going to Write This is how your Form look like to your users then after the div We are going to Add Another div and we are going to Style it with background Accent
(2:39:54) Flex Flex Call Flex Grow item Center justify Center padding for then we are going to apply the Paper background that we have applied also in the designer So Back To The form Builder file We are going to Copy background URL Paper and also the dark Option So Back to preview dialog button then Let's paste the style that we have copied and then overflow Y auto then Inside this div We are going to Add Another div and we will Style it this will be the card that contains our form so Max with 620 pixels Flex Flex Call Gap 4 Flex
(2:40:34) Grow BG background h full W full rounded 3xl padding overflow Y Ao and then with this div We are going to Show our Elements So we are going to Map over Elements Elements Map Element and for each Element We are going to Show his form components so const form component equal form Elements and you can Import this from form Elements of the Element Type form component and then we are going Just to Return the form component We are going to Set a Key so Element and That's it and then we are going to do what we have done also for the designer
(2:41:17) component and the properties component So we are going to Set Element instance variable We are going to pass Element to it now Let's go back to the form Elements dtsx file and we are going to update the form component Type to be a react functional component that Accept a property called Element instance of Type for Element instance Now What we have to do is to define this form component So Back to our text Field Now We are going to define the component but before doing that Let Me Put the designer component
(2:41:49) Before The properties component so let's replace this empty component with a form component We are going to Copy the designer component Let's paste it and then Let's rename the duplicated one with form component and As You can see Now we have a better ui so let's go back to our designer Let's rename this with the first Element and with second Element Back to our preview and everything is updated Now What we are going to do is to remove the Read only and also disable property from the input
(2:42:24) Because the form will be Interactive and That's it we have done also the form preview Let me show Now What we are going to do basically we are going to use Only the text Field for Now we will Add all these Fields later on but before adding Those Fields what we are going to do is just Save the form We are going to publish it and then we are going to create the submit form page so Let's try it test submit and we are also going to create form validation and also this page where we can see the submissions of Our form
(2:43:03) And after the Crafting of the detail and the submission page We are going to implement all the Elements that you can see in this demo So Back to our application and Now We are going to implement the Save Button and also the publish button So Back to our Save form button file then we will need all the Elements so Elements use designer then we are going to create a function called update for content Which will be an async function and Inside We will have a tric Block and in the TR Block We will have a const Gon Elements and we are
(2:43:40) going to convert our Elements to Jon so jony Elements then We need to update our database so let's go back to our actions Folder forms file We are going to define a New function Export as function update form content that takes an ID of Type number and also Gon content of Type String then we will get the user and then we are going to update the form so Return ait Prisma update Where userid user then we will Check the ID of the form then we are going to update the data We set content to Jon content Back to our
(2:44:25) Save form button Now What we can do is await update form content and you can Import it from actions form and As You can see We need the ID but actually we don't have it so let's Type ID for Now then we are going to Import it and also We are going to use Gon Elements If everything is we are going to Show a success to and you can Import it from componen ui use to Let's the title to success and description your form has been saved then Let's go the Catch Block and Let's error to so title error
(2:45:08) description Something went Wrong and Variant destructive We are going to start this update form content with the new use transition Hook from react so let's use it const loading Start transition equal use transition and you can Import it from react then we are going to style and disable the button So disabled we are going to disable it if we are loading on click We are going to start our transition Start transition update form content and then if loading Is true so if loading is we are going to Show a spinner So we are going to Import
(2:45:49) an Icon called fa spinner and you can Import it from react Icons fa and Let's Add a Class name animate spin and Now We need the ID of the form So What we can do is just add it to the properties of the component so ID Let's Type it ID of Type number Now Back to our formbuilder dsx file and then we are going to Add the ID property to the Buttons so ID formid Ok Now We are going to try it So Back to Prisma studio Let's refresh our forms As You can see the content is Empty for our forms in this case We are
(2:46:30) going to update the form with ID I suppose to Let's try it Let's refresh and now As You can see I have my content that contains let me Copy this and this is content that we have saved in the database for the form Now You can see that If we refresh The Page this form is Empty and this Happens because we have to fill the designer context Elements with the form content so let's go and do that So What we Need Is a use Effect that has the form as dependency and Now We Need a function That sets the Element So Back to our designer context
(2:47:12) and we are going to Export set Elements so let's Add it to our designer context Type set Elements and this is the type of Our set Elements function So you can Copy it and paste it now Let's Export set Elements in the values Now Back To The form Builder file We are going to get the set Elements function so const set Elements equ use designer then we are going to get and set the form Elements from the form content con Elements GP form content and then set Elements Elements then we will also need set Elements in the dependency Array Now
(2:47:55) Let's refresh and As You can see There is a Delay between the rendering Of The Page and the rendering of the form and if you want to Avoid it we can just add a state so const is set is state false then you can just is or you can Delay this even more with for example set time out And then if is not you can div Let's Style it with Flex Flex Call item Center justify Center full with h full and we are going to Return Inside this div the same loading spinner that you are using in the Builder page in the loadings Back To The Builder
(2:48:44) and this Icon from react Icons i Now Let's try it and As You can see We still have a Delay and this Happens Because the e state is not Linked with the designer context Element state Now for simplicity We are going to update the is state with a time out in Order to Delay the render the best approach Will Be to Just set the initial Value of the Elements in the designer context to undefined and then Inside the designer dtsx file render a loading spinner while the Elements are undefined By The Way Let's move on and implement the delayed
(2:49:17) render approach so const Read Time Out equal set time out And then we are going to Set is through After 500 milliseconds for example then on component and Mount We need to Clear the time out so Return Clear Time Out Time Out then Let's Fix the ui i forgot to this Now Let's try it again Perfect and let improve the use Effect h with some code that I for to Add what we need to do is Add if is and if is we are going to Return Now we can move on and implement the publish button So Back to our Project Explorer and Inside
(2:50:04) components Folder We are going to Open publish form button then to alert dialog alert dialog Alert dialog cancel Alert dialog content Alert dialog description alert dialog foter alert dialog Header Alert dialog title and lastly Alert dialog trigger and we are going to Import from slui Alert dialog Perfect Now oure but Alert dialog W it again with Alert dialog trigger and Let's Add as Child property To The Trigger then After Alert dialog trigger Let's Add Alert dialog content Inside Alert dialog title That contains
(2:51:00) the Question Are you absolutely sure then Alert dialog description and we will Put the text this Action cannot be Undone after publishing you will not be able to Edit this form Let's Add two line Brakes then we are going to Add a span with the Medium font Class name font Medium and Inside the span we put by publishing this form You Will make it available To The public And you will be able To Collect submissions then we are going to wrap the Alert and the description with Alert dialog Header And after the Header
(2:51:38) We are going to Add Alert dialog foter Inside We are going to Add Alert dialog cancel with the text cancel and then Alert dialog Action Inside We are going to Write proceed and we are going to Show a spinner loading so let's Add also loading and then we are going to use fa Icon that you can Import from react Icons slf Class name animate spin then we are going to disable thater dialog Action When loading is and on cck We are going to prevent the default behavior so e prevent default and then Start transition of publish
(2:52:21) form Now We are going to implement the loading state and the publish form function so let's scroll up Let's Add const loading Start transition use transition h that you can Import from react and then asnc function publish form Let's Add trch Block in the Cas We are going to show an error message so to that you can from compon ui use to title error description Something went Wrong Back in the TR Block and then we are going to call a function that we have to define so await publish form and we are going to pass
(2:52:58) the form ID to this function and then we are going to see a success to success your form is now available To The public Now We need the form so let's do the same that we have done with the Save button So let property ID of Type number Back to our Builder file and let ID property to our publish form button Now Back To The project Explorer Inside the actions Folder Let's Open the forms file and we are going to define Export as function publish form the takes ID of Type number Inside We will Check the user as always
(2:53:41) and then Return a prisma update data So we are going to Set publish to Where user ID is equ to user.id and also the form ID must match Perfect Now Back to our publish form button file so let's rename this function with a Lower P then we are going to Import our server Action Let's refresh the application Now Let's try so we can publish proed Now Let studio We are going Tock If we have publ the form and As You can see publ is So Back to our application and then After and then after publishing the form We are going to refresh The
(2:54:26) Page so Import use router from Next Navigation const router equ use router and then after the success to router refresh Now Let's reset the publish stat so let's put this to FSE Now Let's refresh The Page Let's try again to and As You can see i published The form so if go back in our form Builder When the form is published we are not going to see the same form button and the publish form button Perfect then we are going to Return a Custom ui if the form is published so if form published then
(2:55:06) Return We are going to Return a fragment that contains a div and we are going to Style this div with Flex Call item Center justifies Center h full W full Inside We are going to Add an H1 and we will Style That So text Center text for exl font Bold text Primary text Primary Border bottom padding bottom two margin bottom 10 and Inside We are going to Add form published and these emoticons but This is not cented because we have a typ here Perfect then let H2 that We are going to Style with Tex to x and Inside We Write share this form then
(2:55:52) Let's Add an H3 and we will Style it so text Excel text muted for Ground Border bottom padding bottom 10 and Inside we put anyone with the link can View and submit the form then Let's Add Another div Let's Style it margin Y Flex Flex Call Gap item Center Border bottom Ping bottom then with the div We are going to Add an input Element that you can from components ui input Class name full with Read only and then Value and we are going to define this in a minute so let's close the input tag Now Let's go
(2:56:33) here and Let's define const share URL then we are going to use a String literal Inside We are going to interpolate window.location.url submit SL and then we are going to interpolate again form share URL then Let's wrap Everything That is Inside the div with another div Let's Style this div Max with MD then after the input component We are going to Add a button component that you can Import from components ui button Let's Style it so Class name margin top 2 full with Let's Close it Inside We are going to Write
(2:57:12) Copy link and then Let's Add the click function and then Navigator Clipboard Write text share URL and then we are going to Show a success to so to and you can Import it from components ui use toast title copied description Link copied to Clipboard so Let's try Let's try to paste Perfect Now Let's scroll down And after the div We are going to Add Another div so let's Style it justify between Inside going to Add a button Variant link as Child and Inside are going to Add link component that you can
(2:57:54) Import from Next link then we set HF to the h page Class name Gap two Inside We are going to use BS Arrow left Icon that you can Import from react Icons BS and then go back home T Now Let's Copy this Butt Let's The Go back home with form details Let's remove this Arrow And after form details text We are going to Add Another Icon BS Arrow Right and you can Import it from react Icons BS and Let's Change hrf with a String literal that contains SL forms and then we are going to interpolate formid and The Last Thing That We are
(2:58:38) going to do is to Add the confetti Effect to this page So Back To The Terminal then Type MPM Install react confetti Let's Import it so Import confetti from react confetti Back to our publ ui so here we are going to Add confetti component then we set with window.in with Window Inner Perfect and then to dis Animation recycle Now Let's refresh The Page Perfect You can also increase the number ofes for example to 1000 Perfect Now we are Ready to create our form details page so Let me show you that Let's go back to our preview application
(2:59:30) and then we can just click View submissions and this will be the detail page for our form So Back to our Project Explorer Let's Open the Dashboard Folder Inside The App Folder and We are going to Copy the Builder Folder so let's Copy it Let's paste it We are going to rename it with forms then Let's Open page tsx file Inside forms ID and then we are going to replace the form Builder with a fragment for Now Now Let's go to form details and As You can see it's Working we have details here then Let's go back to our
(3:00:09) application page so I'm clicking the logo and As You Can notice I don't have any indication that i'm Moving between routes So Back to our terminal then Let's Type MPM Install nextjs Das top loader then Let's go back to our application layout so Inside The App Folder Let's Open the layout dtsx file and Before The designer context provider We are going to Add Next Top loader then we can Import it So Back here Import Next Top loader from nextjs top loader I have a Type here now Let's try to follow
(3:00:49) a link so let's Click Here and As You can see now I have a Progress bar When I Change Pages Perfect Now Let's go back to our forms ID page dtsx file then Let's click View submissions in our application then Let me show you the preview we have some Basic information like title and share URL then we will have the St card for the form statistics and then we will have the form submissions so Now We are going to Add the title the share link and also the statistics to our page Back to our application so in Order to
(3:01:26) calculate the statistics what we can do is just go to the Explorer in the actions Folder forms file and then Inside Get form stats we can Copy this formulas Now Back to our page We are going to paste the formulas Now What we can do is just extract const visits and submissions from the form so equal form and by doing this we have calculated the stats for our page Back to our fragment Let's replace the details text with a div We are going to Style it with py1 Border top Border bottom Border muted Inside this div We are going to
(3:02:05) Add Another div so div and then Class name Flex justify between container and with container We Are Just Max Wi for the content Based of the Current Bak Point then we are going to Add H1 and we will Style it with text for Excel font Bold truncate Inside We will have the form name so let's refresh The Page Perfect so I think that we don't need the Border top then After H1 We are going to have a visit button component that takes share URL property so let's set it with form share URL then Let's go
(3:02:42) in our Project Explorer Inside components Let's Create the file visit button then Let's Mark this to be a client component rfc Let's Add the properties so share URL Which is a String then Inside We are going to define const share link equal String literal We are going to interpolate window.location.
(3:03:14) url then tol div with a button so button and you can it from componen ui button Inside We are going to Write visit then Let's Style the button so with 200 pixels and on click Window Open share link and the target will be Blank in Order to Open it in a New tab Now Back to our page dtsx file Let's Import visit button from components visit button and now after refreshing the application we have an because Window is not defed and this is happening Because the Builder page Which I have to rename because This
(3:03:50) is the form detail page and this page is a server component So What we have to do is Go inside visit button and we are going to render this button only After hydration so what we are going to do is const mounted set mounted use state FSE then Empty dependency Array mounted on and this Will work because Us Effect Works only on client and then if is not mounted Return null and by doing this we are avoiding Window not defined error Now Let's refresh the application Perfect then Let's go back to the layouts file Inside forms ID and
(3:04:35) Let's Add Flex Call Perfect Now Back to our page then Another div and let St with Ping Y for Border bottom Border muted with this We are going to Add Another div and Let's with container Flex Gap two item Center justify between and Inside this div We will have a component called form link share that has the same share URL property that has the visit button so let's Put It Now Back to our Project Explorer Let's Copy the visit button file and rename it with form link share Let's Go inside Let's also rename the
(3:05:18) component so form link share then Let's replace this button with a div that We will Style with the Flex Flex Grow Gap for items Center Inside We will Add an input that you can Import from components ui component the Value takes share link and this will be Read only and then we will have a button that Within it as an Icon called I am Shar that you can Import from react Icons I am Let's Style Icons So margin Right H4 with F then Let's Add share link text to it then Let's Style the button so Class
(3:05:57) name Max with 250 pixels and then on click We are going to Copy the URL in the Clipboard so Navigator Clipboard text share Link to to copied description Link copied to Clipboard Let's to from componen to Now Back to our page then we are going to Import form link share from components form link share then Let's this form link share with another div Let's St the div with container Flex Gap to item Center justify between then we will need to close this div earlier so let's move here and now Everything should look fine
(3:06:46) But I'm Don't seeing the Border Buttons so I think yeah we have a typ here Let's try Now Perfect then we are going to Add Another div Let's Style it full with padding top e Gap F Grid Grid cols One on Medium Grid Calls two and on large screen Grid Calls F and Let's also Add container Class then Let's Go inside and Now We need to put Cards here So we can Copy Those from app Folder Dashboard page dtsx and we can and we can Copy all the stat Cards that we have here so let's go back to our page dtsx and Let's
(3:07:25) paste the stats Cards Inside the div then we are going Back to our page dtsx Index file and we are going to Export the stats card component then Back to our page dtsx file Inside the Dashboard form ID Folder and we are going to import the stats card then we are going to Import all the Icons so Import Lu View from react Icons Lu Import fa vp forms from react Icons fa Import High cursor click from react Icons high and the last One Import tbr Arrow Bounce from react Icons SL TB then Let's go back to our stats card Let's remove data
(3:08:12) loading will be false Let's Do the same also loading will be false Let's remove data loading false and also in the last card We are going to remove data and loading false Let's refresh The Page Perfect Now Let's Fix the share link button So Back to form link share button and we are going Change Max with To be with Ok Perfect Back to our page Let's scroll down And after this div Let's go and create Another div with container Ping top 10 and Inside We are going to submissions table component that takes
(3:08:50) ID Which is formid Now We are going to define this componen so function submissions table takes ID of Type ID number and from it We are going to Return a fragment that contains a H1 tag with some Style so let's Style it Tex to Excel B marg y4 and Inside we going to write submissions Perfect Now Let's go back to our preview application and in Order to get the submissions What we have to do is to create this submit page that will take a form render it and Save the submitted form content so let's go
(3:09:28) and define this page Back to our Project Explorer and Inside up Directory We are going to create a Directory called submit Within this Folder We are going to create a Dynamic R Folder so let's Call It brackets form URL then Inside We are going to Add page dtsx and then Let's go in the Dashboard Builder Folder and Let's Copy error layout and loading page Back to our submit Folder Back to our form URL Folder and Let's paste error layout and loading tsx file then we are going to Copy the content of the layout file
(3:10:04) Inside the Dashboard Folder so the layout that contains logo and Theme switch and the user button component so let's Copy this Now back our submit Folder Inside form URL Let's Open the layouts file and Let's replace this content with the content that we have copied then we are going to remove the user button like this We then we can Get a rid also of this div Now Back to our page ds6 Inside form URL rfc and Let's rename this page submit page So Back to our application so let's Try So Back
(3:10:40) here Let's Press the visit button perfect Now We Need a way to Access to this form URL that we have defined in our Folder name So we are going to Read Those from the params that we are getting from nextjs so params that has a Type object that contains form URL of Type String so Now we can just check this URL so params form URL Perfect Now We Need a Public api that takes the form URL and Returns the content of the Form so const form await Get form content by URL and Inside We are going to use params form URL Now Let's define this
(3:11:23) function to be asnc now Back to our Project Explorer Let's Open form TS file Inside Folder actions Export asnc function Get form content by URL form URL of Type String so Return a and Since we have also to update the visits on page We are going to use Prisma dform update We are going to Select Only the content that We need and for this api will be the content property so Select content through then we are going also to update the visits field so data visits increment by One and then we are going to Add the Where close so Where
(3:12:06) share URL is equ to form URL and we have an error because we have to make this share URL unque Back to our schema Prisma file and Let's make this share URL property to be Unique So Back to our terminal and Type MPX Prisma migrate Dev Type Y and then Enter A Name for the migration and Press Enter So Back to our code and As You can see now the error is gone So Back to our page dtsx file and we are going to Import Get form content by URL from actions form then we are going to if form is n We are going to throw New error form not found As You
(3:12:45) can see I have an error with Prisma this Happens some and you can just Fix It By reopening Your editor in my case It is vs code and restart your application so Let's try it again and now I Don't Get any error Perfect then we are going to par the form content so const form content equal Gon DPS form content And are to C form Element instance Array and going to get RID of this div and instead a form submit component that takes the form URL so params dform URL and also the content content form content Now
(3:13:26) Back to our Project Explorer and Inside the components Folder We are going to create the file form submit component.ts this will be a client component so let's Mark it with use client rfc then Let's Add the properties so Form URL and content Let's Type Those properties so content is an Array of form Element instance and form URL is a String Now Back to our page tsx and we are going to Import form submit component from componen for subit component Now Back to our form submit component then Let's
(3:14:04) replace this div with a New div We are going to Style it Flex justify Center full with h item Center Inside We will have Another sty div so Let's Create it and let Style it with Max with 600 and 20 pixel Flex Flex Call Gap 4 Flex Grow BG background full Wi padding overflow Y auto Border Shadow XL Shadow Blue 700 and rounded then Let's Go inside and Now We are going to Map over our El content m and Element will be form Elements that you can Import from form Elements of Type Element Type and then form component so Now Let's Return this form
(3:15:00) component Return form Element So let Key because we are in a loop so Element and then we have to Add Element instance Element instance equ Element refresh The Page Perfect then we are going to fix Shadow blue and then we are going also to Center this So Back to our Project Explorer Inside submit for URL Folder We are going to Open layout dtsx and we are going to Add to the div h screen Perfect Now Back to our form submit component And after The Loop We are going to Add a button that you can Import from component ui button Let's
(3:15:38) Style it the margin Top 8 and Inside We are going to Write submit and Before The submit text We are going to Add an Icon called i cursor click that you can Import from react Icons I Let's Style this cursor so Class name margin Right to Perfect then we are going to create a submit function for our button So on click what we want to do is Call submit form so let's declare it const submit form equal and for Now this will be an Empty function now the first thing that we have to do is to create a state for our
(3:16:14) form and then we Need a way to link this state to our form Fields so Let's Create const form values for this particular state We are going to use use Ref Because in this way we are preventing rendering this component Each Time that we change values in the form and the Type for the user F will be an object composed only by Key and values of Type String so Key of Type String and will be of Type String and let set the default Value to be an Empty object Now We need function that takes a Key String and Value String and stores it Inside our
(3:16:53) form values object So we are going to create const submit Value Which is a function then we don't need to redefine this function because It's not Linked to state So What we can do is use callb and Inside we going to define a function that takes Key of Type String Value of Type string also an Empty dependency Array For The Use callb Hook and in the function Body We Are Just going to Set form values Current Key and we are going to assign Value to this Key Perfect Now What we are going to do is to pass this
(3:17:26) function to the form Element component and Call It When the Value changes in Each Field for example on the on Blur event So we are going to Add a submit Value property to the form Element Now Let's go back to the El file and Inside form component we are to Add Another property submit Value Which will be optional and the Type for this property will be a function that takes Key of Type String and also Value of Type String and Returns Nothing Now What we can do is just Export this Type Export Type submit function and we are
(3:18:05) going to take this Type from the submit Value Now backfield F component and Let's Add the submit Value function in the form component properties Let's Type That So submit Value is optional and the Type is submit function and you can Import it from form Elements Now We need to Add a state Value to our component so const Value set Value equal u state Empty String then Let's go in our input let's set onchange event l e set Value e target Value and then on Blur if the submit Value is not defin We are going to
(3:18:46) Return otherwise We are going to call submit Value with the element.id and also e target Value so e and then we are going also to Show the Value Value Value So Back to our form submit component and Let's Add console log in our submit form so console.log form values form values Current Now Let But I'm not able to Write in my t Field Back To The Tex Field and As You can see don't know why ied this but is wrong eet Value Let's try Now Value One and here we are going to put Value submit Now As You can see
(3:19:30) we have the form Element ID associated with the Value Now We are going to create Another form Let's Create test submit Form then Let's Add three Fields Let's rename the first Field One the second Field two and the Third Field 3 then we are going to Mark the second Field and the Third Field required Now Let's Save this Let's publish it Let's visit the form details page and then the form and Now We are going to define a way to validate our form So what we are going to do is to define in Each form Field a validation function
(3:20:15) and we are going to call this validation function on Each Field When we submit the form by doing this we can define a Custom validation function in Each Field for example the Select Field We will have a different validation so let's go back to our form Elements dsx file and we are going to Add One property to the form component called is invalid of Type boolean and this will be an optional property and then we are going to Add another property to our form Element Type We are going to Add a validate property Which is a function that takes
(3:20:48) a form Element of Type form Element instance and also a Current Value of Type String and this function Is going to Return aan It will Return false if the field is not valid otherwise It will Return true so Back to our textfield tsx file and now As You can see typ script is complaining that this Field needs a validate property So let go valid takes form Element of Type form Element instance and also Current Value of Type String this function We so let's define it now the first thing that I'm going to do is to cast My form Element
(3:21:28) to my Custom instance so const Element equal form Element as Custom instance then the validation function for the text Field will be if Element attributes required this case We are going to Return Current Value length greater than Zer otherwise if the field is not required We are going to Return True Inside this validation function You Can Do Whatever you want the important Thing is that you are going to Return True if the field is valid otherwise you need to Return false then Let's move back to our form component and earlier we have
(3:22:05) defined Another property for this form component called is invalid is invalid optional of Type after the Value and set Value state We are going to define Another state const error set error equal use state false and then we are going to update the error where the is invalid property changes so use Effect the dependency Array Will contain is invalid and Inside We are going to Set error is invalid equ then Let's go in the Label component We are going to Style it Class name And are going to use the cm function error and if error is we
(3:22:47) are going to Show Tex Red 500 then Let's Copy this Class name Let's go to the input Let's paste it then Let's go to the Helper text and Let's wrap the Class name with the cm function that you can Import from lib utils and what we are going to do is the same so if error Is true text color Red 500 and then what we are going to do is to Avoid calling submit Value If There is validation error So What we can do is con valid equ Tex Field form Element validate Element and the Value that We are going to
(3:23:23) validate is e target Value then we are going to Set error valid and then if is not valid We are going to Return so Let's try it and we have an error Yeah My Bad because now the field is valid and we are setting valid This Way So What we need to do is just to invert er isse let TR again Perfect Now We are going to trigger Field two on BL event without setting a values Let's try it Perfect Back to our input and Let's change the Class name to be Border Red 500 Now Let's try to put a Value here and As You
(3:24:02) can see the error state resets Perfect let me Point out that We still have an error Because you can Still click the submit button that Call the submit function and we are not triggering the Third Field validation error So What we need to do is to validate Each text Field from the outside When we click the submit button so let's go back to our form submit component And We Need a way to store also the validation error const form errors equal use Ref and the Type in this case will be an object with Key of Type String and Value of Type boolean
(3:24:38) and the default Value will be an Empty object and inside form err object We are going to store the ids of the Elements that are not valid so then we will need also validate form function and you can also define this with use callb Hook that you can Import from react so for Now Let's Add an Empty dependency Array then Let's define the function Body what we are going to do is that for for each Field of the content for each Field in the form going to Val equ form Val Current of the field and Let's also addb Value because this
(3:25:23) can be null Since we are not going to put for example a Value in the Third Field then we going to check if this Field is valid so con valid equal form Elements of Type Field Type and validate function field then we are going Tock if not valid if not We are going to Add this Field to the form errors so form errors Current Field ID equ True Now Let's go and Type the validate form function because this will be a function that takes Nothing and Returns a boolean then we are going to check If we have invalid Fields so if
(3:26:06) object Keys for errors Current length this means that our form is not Val we going tose otherwise We are going to Return And We need to Add the content variable as a dependency because we are using it Inside then we can go in the submit form function We are going to reset the errors on Each function Call so form Current Empty object and then we are going Tock If There are errors const valid form equ validate form and then before Moving on with the submit form function What we have to do is GO in our form Element and Add the is invalid
(3:26:48) property Which will take form errors Current of the Current element.id Now Let's try and As You can see Since we have Used references because we are using user F we are not triggering our render So what we are going to do in Order to render again our form in case of invalid form is that We are going to check if our form is valid so if valid form then we are going to Return but before returning we are going to show an error message So we are going to use to and you can Import it from ui use to and Let's put title error
(3:27:28) description Please Check the form for errors and then Variant destructive and then We need to trigg render of Our Fields So What we can do is just update a Key So let create Key const render Key set render Key equ use state New date Get time and we are using the get Time function in Order to get a Random Value If you prefer you can use for example Mat Random then we can use this render key in the div that wps our Elements so here Key render Key and then if the form is not valid We are going to update our Keys so set render Key New date Get time
(3:28:14) and Thanks to this trick We are going to render our form because This Is How react Works If You change the key of a component that component will be rendered so Let's try Now and As You can see I have the errors but There is Still a problem because Now As You can see If I submit again I Lose My values So what I have to do is just add default Value to the form Element and we will set this with form values Current element.
(3:28:47) id then Let's go back to our form Elements then Let's go in our form component properties and Let's Add default Value Which is optional and of Type String then Let's go to textfield dsx file Let's Add the default Value property to our form component then Let's Give Type default Value Which is optional of Type String and then to use valty Asti Value for our ult Value or Empty String Now Let's try Now Value One then I click and As You can see I still have my Value Set Up And I also Get validation error so Value two Let's try
(3:29:27) to submit again Now We are going to Set also The last field Let's try Now submit and As You can see Now That the form is valid I can see My form values So What we need to do Now is to create an api and this form submission date let go back to our form submit component Let's define a New state const submitted set submitted equ use state false and also Let's use the use transition h so const pending Start transition equ use transition that you can Import from react then Let's go back in our submit button We are going to
(3:30:06) disable it while pending is and we are going to div If You Want with fragment and we are going to Show this fragment only When pending is false otherwise if pending is we are going to Show a spinner so I am spinner two and you can Import it from react Icons i Class name animate spin Let's close the tag and then in the on Body We are going to call transition of submit form Now Back to our submit function And after the validation Process Let's Add TR Catch Block then Let's Copy the error to from here and
(3:30:48) Let's paste it in the Catch Block We are going to change the description with Something went Wrong If you prefer you can also define a Custom error to with defaults then Let's go in the TR Block We are going to stringify our form Value so const Gon content equ goning Form values then we are to submit form function that takes form URL and also the Gon content let me let me rename This case Perfect so let's make this function async Now We are going to create this submit form function So Back to our Project Explorer
(3:31:32) Let's Open the forms file Inside actions and we going to function submit Form form URL of Type String content of Type String and we are going to Return a Prisma update And We need an update because we are going also to update the submissions count so update data and we are going to increment submissions increment by One then we are going to create a form submission and if you remember Let's the schem pris again we have also a form submission that takes the Form and the content So Back to our forms file so After incrementing
(3:32:15) submissions Field We are going to Add form submissions Inside We are going to create One and we are going to Set content to content and Since we are creating this form submission Inside the form object with Prisma update Prisma Will handle the relation for us and It will set the form ID of the form submission with the form ID of the Parent form and then we Need a work CL so Where share URL equ form URL Back to our form submit component.
(3:32:50) ts and Let's Import submit form from actions form then after the submission We are going to Set submitted to True and if submitted Is true We are going to Return a Custom ui so If submitted we are going to Return a div and we will Style it with Flex justify Center full with full item Center adding Now Within this div We are going to create Another div and we will Style it and the style that We are going to use is the same of this div So we can Copy it and then Inside this div We are going to Add H1 and we are going to Style it with Text to Excel
(3:33:27) font Bold and we are going to Write form submitted so Let's try it We are going to submit this form Value Perfect and then we are going to Add a paragraph p We are going to Style T muted for Ground and Inside We are going to Write Thank you for submitting the form You can close this page Now and Now we have finished our submission page so let's go back to the preview and what we are going to do Now is to create this table where we can see all the submissions that we have received for a form So Back to our application and
(3:34:05) before Moving on with the submission table We are going to fix a thing that I forg earlier Which is an extra check in the submit form function So Back to our Project Explorer and Let's Open the formes file Inside actions and in the work CL of submit form We are going also to Add published through and with this Field We are preventing submissions on form that are not published so Now Let's go back to our Dashboard forms ID and then in page dtsx then Let's scroll down until we find the submissions table
(3:34:41) component and then We need to get the form and all the submissions to the form so const form equ a Get form with submissions and we are going to pass the ID to this function then Let's make this function then Back to our actions forms file and Let's define Export function Get form with submissions that takes parameter of Type ID number then the user So we can just Copy it from another function and then Return a Prisma forf Unique Where ID and in the Where close i forgot to Add the control on the user ID
(3:35:27) so Add it in Order to get Only the form details of form That the user Owns and then we are going to Join form with form submissions So What we can do is include Form submissions doing this Prisma Will Join for us the form with all the form submissions that has this form ID and then It will include the form submissions property in the red object so Now Let's go back to our page tsx file Let's Import this function from actions form and now As You can see the type of the form is an object that contains form submissions Which is an
(3:36:05) Array and also all the properties of Our form then we are going Tock if the form is n otherwise We are going to throw a New error so throw New error form not found then we will get the form Elements so const form Elements equ Gon DPS form content as form Element instance Array then we are going to iterate over form Elements and create the columns for our table so let's start by defining the columns so const colums then Let's define the colums Type Which will be an object with ID of Type String Label of
(3:36:43) Type String required boolean and also type of Type Elements Type that you can Import from components form Elements this will be an Array and then we are going to initialize this with an Empty Array then we are going to iterate over form Elements so for Elements dot for each Element then we are going to switch the Element Type so switch Element Type what we are going to do is to create colums for the Fields that we want Let's go back to our preview and As You can see we have some Elements for example the layout Elements that doesn't have a
(3:37:19) Value So we are not going to Show this Field in the submissions table So Back to our application and Remember that actually in our application we have Only the text Field So What we can do is case textfield columns Push ID element.id Label Element extra attributes Label required Element extra attributes required and Type elementtype then we Break and then we also Add a default case and we will do Nothing in this case so break then we are going to Show our table so after the H1 tag We are going to Add a div and we are going
(3:37:59) to Style it so rounded MD Border Within this div We are going to Add A table component that you can Import from components ui table then we are going to Add table heer that you can Import from components ui table Within the table Header We will Add A table Row that you can Import from components ui table Now We are going to Show our columns so columns.
(3:38:25) map column and for each column We are going to Return A table Head that you can Import from components youi table Inside We are going to Show the column Label then we are going to Add a Key to the table head colum and also Class name Upper case then after the map Operation We are going to Add Another table head and this will be the submitted at colum Let's sty it text muted for Ground text Right and Upper case and this is Everything for the columns Now We are going to Show our rows so after the table Header We are going to Show table Body And you can
(3:39:03) Import it from components ui table and Now We Need a way to iterate over our rows the first thing that we have to do is to define this Row RS let Give type of Array and for Now this isempty Array then we have to define our Row Type so let's go back here Type Row basically a Row is a submission content So we will have an object that has both Key and Value String and then we are going to Add an extra Field Which is the submitted date So we have an object where the key is of Type String and the Value is of Type
(3:39:39) String and have to extend this Type so let's extend it with submitted at Field of Type date so As You can see the Row Type is a Generic object that has also a submitted Field so let's go back to our rows arrays and Now We need to fill this So we are going to iterate over form form submissions dot for each and for each submission We will create a New Row so const content equ Gon submissions content and then rows push and Inside We Are Just going to spread the content and then we are going to Add the submitted that Field that takes
(3:40:22) submission created that Now Let's go back in our table Body And then we are going to iterate over rows So rows.map And for each Row We are going to Return A table Row and the key will be the ind so let's extract the ind then Each Row We are going to iterate Over the colums so colums Map and for each column We are going to Return a Row cell and we will define this component in a minute Let's Add The key so colum ID Let's also Add the column Type so colum Type and then we Need a Value for this Row cell so
(3:41:01) Value Row of column doid and then The Last cell of the Row will be A table cell with a Class name of Tex muted for Ground text Right That contains the submitted field So we are going to Format this date with Format distance exported by date fns and we are going to use Row submit and then we are going to use New date Which stands for Now and then we set the Option so Add the suffix through Now We are going to define our Row cell function rowell Let's define the properties so Type Value and Let's Type properties so Type is of Type
(3:41:42) Elements Type and Value is a String then we are going to define let no of Type react Node equal Value and then we are going to Return the Node by table cell so Node Let's try Perfect Now let me Point out that We are going to use this Type property later on and the way we are going to use It is this We are going to define a switch That Ty and Based on the column Type we can choose to use A Different ui for our table cell and we are going to Add this code later on After having implemented all the Fields that We will
(3:42:21) have in the application so let's remove it for Now Perfect Right Now we have implemented all the functionalities of Our page form application Let's Now Add all the form Fields in Order to complete our form Builder So we are going to do that right now and we will start with the layout Elements back to the form Elements tsx file and the first thing that We are going to do is to Add Another Element Type So we are going to create a Union Type and then we are going to put title Field Now As You can see we have an error Because We need to
(3:42:54) define our title Field So Back to our Project Explorer then Back in the Fields Folder We are going to Copy the text Field and we are going to rename it title Field then Let's Open the file and Now We are going to Edit the code so the first thing that We are going toit is this Type So This Will became title Field then we are going to remove These three extra attributes We are going to rename the la with title We are going to remove this and Write title Field then we are going also to Edit property schema we don't have the Label but what
(3:43:27) we have is the Label is the title and then you can change if you want the validation for the title the next thing that We are going to Edit is the text Field form Elements So we are going to rename this Inside the title field tsx file rename Symbol title Field form Element then we are going to change the Label for the designer button Element with title Field and we are also going to change the Icon We are going to use luu heading one that you can Import from react Icons luu Now this Field Doesn't require validation So What we can do is
(3:44:05) just replace this function Body with a function that Returns always through Perfect Now Back to our form Elements then we are going to Add the title Field in the form Elements object so title Field title Field form Element and you can Import it from Fields title Fields dsx file Now We are going to Add the title Field button Element to our Sidebar so let's go to form Elements Sidebar file Let's Copy this line Let's paste it and then Let's Change text Field with title Field Now We are going to Style this Sidebar so let's remove
(3:44:41) Elements and Let's Add a paragraph instead We are going to Write Drag and drop Elements Let's Style the paragraph text Small text foreground 70% then we will Add a separator and you can Import it from components ui separator then Let's Style the separator margin y2 then after the separator We are going to Add a div and we are going to Style it display Grid grids One on Medium grid Space y4 Place items Center then Let's put our sideb Elements Inside the div and then Let's replace Space y4 with Gap
(3:45:23) two Perfect then Before The Side bar button Elements Let's Add a paragraph and Let's Write layout Elements Let's Style this paragraph Tex Small text muted for Ground Call span One on MD call span marg y2 Place Self Start Now Back to our title Field tsx let's start by updating the designer component and in this case We are going to get RID of the input then we are going to extract the title from the extra attributes then Let's go and replace the Label content with title Field Let's Style the Label text muted
(3:46:05) for Ground and then Let's Add a paragraph and we are going to Style it with text exl and Inside We are going to put the title Now we have finished the designer component for the title Field Now We are going to change the form component but in this case The form component is much simpler to do because It is a Read only Field So we can Get RID of is invalid and default Value the same here so basically we can remove this extract the title from the Element remove div andl it with paragraph Side We are going to put the
(3:46:41) title and we are going Style the paragraph with text Exel That's it This is our form component So we can also Delete the submit Value property So we can try it now so let's put both the text Field and the title Field and Now Let's Check the preview of the form and As You can see we have the title Field now the last component that we have to change in the title Field is the properties form so let's in the properties component we can remove from default values and Add title that gets Element extra attributes title then in
(3:47:17) the apply Change We are going to get RID of this and put title also here and then we are going to change the first form Field Inside the properties component to became title the Label will be title then we can remove the form description and Now we can Delete the form Field for the placeholder the Helper text form Field and also the required feld form title Perfect and for the title Field Is everything now the next Field that We are going to Add is the subtitle So Back to our form Elements Let's Add the subtitle in the
(3:47:57) Element Type so let's extend Element Type with subtitle Field then Back to our Project Explorer then Toy the title Field file and we are going to rename it subtitle Field then Open the file and then we are going to change the Type with subtitle Field then we can change the title Value to be subtitle Field then we are going to replace the Icon with Lu heading two that you can Import from react Icons Lu and the Label also Will became subtitle Field then we are going to update the designer component for this Field and
(3:48:37) basically we are going to make the text smaller so text LG then Let's go in the form component text LG and the properties component Will remain the same then Back to our form Elements because we have to update form Elements object so subtitle Field and what we Need Is subtitle Field form Element but I can't Import it Because I forgot to rename the title Field form Elements so let's rename it subtitle Field form Element Back to our form Elements tsx file and Let's Import it now the last step Will Be to Add the subtitle field
(3:49:16) to our Sidebar so let's go back to form Elements Sidebar file Let's Copy this Sidebar button Element Let's paste it and then Let's Change title Field with subtitle Field then we are going also to Copy the paragraph and Let's paste it after the last Sidebar button Element Let's Change layout Elements with form Elements and then we are going to move this sideb button Element after the paragraph so Let's try our subtitle Field and then As You can see There is an error in the designer component we
(3:49:48) have to Add The subw Perfect Now We are going to Add the paragraph Element So Back to our form Elements dsx file so let's Add paragraph Field Now Back To The project Explorer We are going to Copy the title Field Let's duplicate it and Let's rename it paragraph field Let's Go inside the file and then we are going to change the Element Type to paragraph Field then we are going to Delete the title property and we will Add text and the Value will be text here then we are going to change the properties schema with the text and Max
(3:50:25) length 500 Now Since we have already done this Process for the subtitle field I will go a little Faster on this so I'm changing this with paragraph then Let's change the Icon with BS text paragraph and can Import it from react Icons BS Let's Change title into paragraph then in the designer component We are going to use text So we are going to use the text here then Let's replace this paragraph Let's remove the style from the paragraph Now Let's Move to the form component We are going to extract text
(3:50:59) use text Inside the paragraph and Let's remove the Class name and Now We are going to Edit the properties component So we are going to change this with text Same here Same here Same here here and here text Perfect Now Let's Open the form Elements Sidebar then we are going to duplicate this and replace subtitle Field with paragraph Field and Now we Get an error Because We need to go back to our form Elements and Add the paragraph field Which is paragraph Field form Element Now letes Now Let's try let If everything
(3:51:45) ising yeah Now The Last Thing That We are going to do on this Field is to transform this input into a text area So Back to our paragraph Field and Inside the properties component We are going to change the input Field with text area and you can Import it from components ui T area then add rows and Now we are So Back to our form Elements dsx file Let's Add a New Element Type Which is separator Field then we are going to define it So Back to our Project Explorer and Inside the Fields Folder We are going to duplicate the title Field
(3:52:24) Let's rename it separator Field Let's Open the file so let's Change this with separator Field this Field will not have extra attribut So we can Delete Those can Delete we can also Delete the Custom instance Let's change the Icon with R separator and we are going to Imp it from react Icons ri Let's Change also title with separator Let's also Change title here with separator Now Let's Move to the designer component we can Get a rid of this line Let's Change title with separator and here we are going to Add
(3:53:05) separator that you can Import from componen ui separator then Let's Move to the form component we can Delete this and replace this with a separator so separator then we can Delete the properties form schema and we are going to Delete Everything Inside properties component and what we are going to do is rur paragraph that says no properties for this Element Now Back to our form Elements We are going to Add this to the form Elements separator Field separator Field Form Element and Now We are going to Add it to the Sidebar so form
(3:53:43) Elements Sidebar Let's Copy Sidebar button Element Let's paste it and we are going to display the separator field Perfect Let's try it so I will put One there and One there Let's Save Let's preview it Perfect Now We are going to Add our last layout Element So Back to our form Elements Let's extend the Elements Type with Spacer Field Back to our Project Explorer components Folder Inside Fields We are going to duplicate the title One Let's rename it Spacer Field Let's Open this file then we are
(3:54:17) going to change title Field Type with Spacer Field the Extra attributes Will Be hed Which is a number and Those will be pixels then Let's Change properties schema with he then Zod number mean 5 Max 200 Let's rename this with Spacer Field form Element then Let's change the IC Lu separator horizontal that you can Import from react Icons Let's replace title with Spacer then Let's Move to our designer component then Let's extract the he for the extra attributes Let's Change this with Spacer Field and we are going to
(3:54:58) Show the e so e pixel but we are not going to apply it This Is Only A text then Let's remove this paragraph and then we are going to Add an Icon separator horizontal Let's Style it h8 W8 then Let's also Add items Center to the div then Let's Move to the form component Let's extract h and Let's replace this paragraph with a div Let's Style it so Style eight and also with 100% That's all for the form component and Now Let's Move to the properties component Let's Change title with he
(3:55:37) also here and here here here Let's Write and for this Field We are going to use a Slider so let's remove the input for Now Now Back to our form Elements Let's Add the Spacer Field Spacer Field form Element and you can Import it as always from the Fields Folder Spacer Field and Those are all the imports that we have Right Now then Let's go back to our form Elements sideb Let's duplicate the separator Sidebar button and Let's replace it with the Spacer one now Back to our Spacer Field dtsx file Let's Drag the Element in the
(3:56:18) designer and Now We are going to Finish this properties form so form control We are going to use a Slider that you can Import from components ui Slider the Slider takes a default Value Which is an Array and in this case It will contain Field D Value then Let's Style the form control Class name padding top then Back To The Slider then we are going to Add Value to it Which is Max Which will be 200 then the step will be one and on Value Change We receive the Value and then Field on Change and Value is an Array So What we Need Is Value of
(3:56:58) Zero Now We need to display the Current he So What we can do is he pixel and then we are going to do form watch Let's try Now so 200 pixels Let's Put It after the title Let's try it Those are 200 pixels Now Let's try to make it smaller and As You can see the space is smaller perfect we have also finished the Spacer Field so let's go back to our preview application to Check the next Elements that We are going to implement now the next Field that We are going to Add are the number Field and
(3:57:34) the text area Which are very similar with the text Field then we are going to Add date picker Select Field and checkbox field So Back to our application Back to our form Elements file Let's Add a New Element Type number Field Back in our Project Explorer components Folder Fields Let's duplicate the text Field One then rename it number Field then Open it and Now We are going to change text Field with number Field then we are going to change the Label so number Field the placeholder will be Zero then we are going to rename text
(3:58:10) Field form Element into number Field form Element then we are going to change the Icon with bs13 that you can Import from react Icons BS Let's Change it to number Field the validation function will be the same Now Let's Move to the designer component Everything will be the same except We are going to add in the input Type number Now Let's Move to the form component then we are going to change text Field form Element into number field form Element We are going to Add Type number to the input and That's it we don't need to modify
(3:58:45) anything else for this component So Back to our form Elements We are going to update our form Elements number Field number Field form Element that you can Import from Fields number Field Now Let's go and Add the number Field to the Sidebar so form Elements Sidebar Let's Copy the Sidebar button Element of the text Field Let's duplicate it and then Let's replace text Field with number Field Now Let's try it So we have this number Field Let's see in the preview Perfect Now Back to our form
(3:59:21) Elements D6 Let's extend the Elements Type with a New one which will be text area Field Now Back To The project Explorer Inside components Folder Fields Let's duplicate the text Field Another Time then we are going to rename it text area field let Open the file then we going to change text Field Type with text area Field this beces text area and then we are going to Add the rows property let's set it to Same here rows Z number1 Max 10 then we are going to update the Label so text area Field then the Icon with BS text area resides and
(4:00:05) you can it from react Icons BS the validation will be the same so let's Move to the designer component then Let's extract rows from the extra attributes and then we are going to replace the input with text area that you can Import from components ui text area let's set the rows property with rows then Let's go back to our text Field form Element Because I forgot to refactor this so let's Change this text area form Element then Let's go in our form component Let's extract rows from
(4:00:38) extra attribut Let's change the input with text area let's set the rows property so rows then Let's Move to the properties component Let's Add the rows to the default valu so Element extra attributes rows Let's also Add the rows here and also in the update Element and then we are going to Add a Slider for the rows properties so let's scroll down until we find the required field Let's Copy the Helper text Field and Let's paste it then TT with rows Same here rows and we are also going Add form Watch rows and then
(4:01:18) Let's replace the input with a Slider so Slider and you can Import it from components ui Slider then we are going to Set the default Value Which takes an Array We will put Field Value Inside a mean Value that Will Be One Max will be 10 step will be one and then on Value Change We take the Value and then Field on Change Value Zer and then we can Get RID of the form description Perfect Now Back to our form Elements dtsx file and we are going to Add the text area Field to the form Elements object so text area
(4:01:56) form Element and then we are going to Show it on the Sidebar so let's go to the form Elements sidebars file then Let's duplicate number Field Sidebar button Element and Let's Change it with text area Field Perfect Let's try it and As You can see the designer ui is wrong So Back to our text area Field and what we need to do is just remove the rows property from the text area Inside the designer component Let's Add it back Perfect Now Let's Put It after the field let's set the rows to number 10 Let's
(4:02:30) preview it Perfect Now Back To The form Elements dsx and we are going to extend our Elements Type with date Field so as always Project Explorer components Folder Fields Folder We are going to Copy the text Field One Let's rename it date Field Let's Open the file and Now We are going to customize the field so let's start by the Type date Field We are going to remove the placeholder from the extra attributes and also from properties schema Let's Change Label into dat Field and Let's Change Helper
(4:03:04) text with pick a date then Let's rename textfield for Element into date Field form Element Let's update the Label date Field and also the Icon BS F Calendar date fill and you can Import this from react Icons BS the validation will be the same Because in this Field We are going to save the Value as a String and the String will be the formatted date So This will be fine as a validation function Now Let's move on on the designer component We are going to replace this input but Componi button the Variant of the
(4:03:43) button Will out then the button full Wi justify Start text left font normal and Inside We are going to Add a Calendar Icon that you can Import from Redi react Icons Let's Style the Icon marg Right H4 W4 and let Check the result before Moving on So Back to our form Elements Let's Add date Field to the form Elements object so date Field form Element You can Import it from Fields date Field Now Let's go to form Elements Sidebar duplicate text area Field Sidebar button and replace it to date Field Now Let's
(4:04:28) move back to date Field dtsx Now let me remove Something and let me Drop the date Field Perfect the designer component looks Good Now Let's Move to the form component We are going to to Delete the Value and const date set Date of Type use state date and the initial Value will be if default Value is defined New date default Value otherwise undefined so Now Let's Add undefined here then we are going to replace the input with a Pop over that you can Import from components ui Pop over Within the popover We will have Pop over
(4:05:05) trigger and you can Import it from components as Child property and Inside we can Copy the button that We already defined in the designer component so let's Copy it Let's paste it then we are going to Style this so let's remove this Style Let's wrap Everything with the cm function then full with justify St text left font normal and if date is undefine text muted for Ground and if error is then We are going to apply Border Red 500 then we are going to display the Value So what we are going to do is if date then Format and you can
(4:05:48) Import this from date fns Format date and the Format String will be ppp otherwise if date is not defined We are going to see this P with P date Inside then we are going to Add the pop over content and you can Import it from componen ui popover let Style it with auto padding Zero then we are going to Set aine property to start and Inside the popover content We are going to Add Calendar that you can Import from components ui Calendar Mode single selected date on select We will take date and then we are going to Set date
(4:06:27) to date then if submit Value is not defined We are going to Return and then const Value equal date to OTC String or Empty String if date is not defined then We need to validate this so const valid equal date Field form Element validate Element Value and we are going to Set error to True if valid is false and then we are going to call submit Value element.
(4:07:00) id and Value Perfect and then after the onselect property We are going to Add initial Focus property Now Let's move on to the properties component and the only thing have do is remove theher remer from here from the update Element function and also Let's remove the form Field For The placeholder Perfect and Now we will Add the Select Field So Back to form Elements We are going to extend our Elements Type with a Select Field then Back to our Explorer and then Inside components Fields We are going to duplicate textfield Let's rename it
(4:07:36) Select field Let's Open the file and then we are going to change the Type from text Field to Select Field And after the placeholder We are going to Add options Which will be an Empty Array then in the properties schema We are going to Add options Which will be Zod Array that Inside takes Zod String and the default Value will be an Empty Array then Let's rename textfield form Element with Select Field form Element the Label will be Select Field also here in the attribut then we going to change the iconx drop down menu so let's this
(4:08:15) Import RX dropdown menu from react Icons RX and notice that the validation function will be the same Because the Value that We will Store in our form will be the text of the Option that we have selected so this code Will work fine for that case then Let's move on to the designer component and Let's replace this input with Select that you can Import from components ui Select Inside We will have Select trigger that you can Import from components ui Select Let's Style it full with and Inside We will
(4:08:48) have Select Value that we can Import from components ui Select and we are going to Add the placeholder property to Select Value and we are going to Set it with placeholder so let's close this Now before Moving on We are going to try this So Back to our form Elements D6 Let's Add the Select field property to the form Elements and we are going to use Select Field form Element that you can Import from Fields Select Field then we are going to move to form Elements Sidebar Let's Copy the date Field Sidebar button Element and Let's Change
(4:09:23) date Field with Select Field Now Back to our Select Fields file then Let's Add the Select Field to our form and As You can see the designer component is so let's Move to the form component then let go back to the designer component Let's Copy the Select component Back to our form component and we are going to replace the input with the copied Select component then we are going to change on Value Change to our Select component that takes a Value then we are going to Set the Value with Value and if submit
(4:09:56) Value is false We are going to Return otherwise We are going to check const valid equal Select form Field validate Element Value We are going to Set error through if is not valid and then we are going to submit the Value so submit Value element.id Value then we are going to wrap the Select trigger Class name with the cm function and then if error Is true We are going to apply Border Red 500 and then after the Select trigger We are going to Add Select content that you can Import from components ui Select then we are going to extract options
(4:10:36) from extra attributes and Inside the Select content We are going to iterate Over the Option so options Map and for each Option We are going to Return a Select item that you can Import from components ui Select let's set the key to Option and Let's also set Value with Option and Let's display the Option Inside the Select item Perfect Now Let's Move to the properties component Inside the properties component We need to Add options to the default form values so Element extra attrib options then are going to do the same on
(4:11:12) the apply changes function options and then let Add it in the update Element then Let's go and Copy the form Field That contains the Helper text then Let's paste after this Field then Let's Change Helper Text to options Let's Show The properties component Perfect so let's Change to be options then we are going to remove form control After form item we going Add div and we will Style it with Flex justify between item Center Let's Put the form Label Inside the div Let's Change Helper text with options
(4:11:49) then Before The options for Field Let's Add a separator that you can Import from component ui separator then after the form Label We are going to Add a button that you can Import from components ui button Inside We are going to use the ai outline Plus Icon and you can Import it from react Icons ai and also We will set Add text then Let's change the Variant of the b to be outline then Class name Gap two and then on click then We need e prevent default in Order to Avoid submit and then form set Value options and then
(4:12:26) we are going to create a New Element in the Array so fieldvue concat in Order to Add a New Element and we are going to Add an Element with the Option text inside or If you prefer New Option then We need to display Those options so after the div Let's Add Another div and Let's Style it Flex Flex Call Gap two and Inside the div We are going to iterate the options so form Watch options DT Map and we will take Option and also the Index and for each Option We are going to Return a div Let's Give It Key Index Let's Style the
(4:13:03) div so Flex item Center justify between Ander Option and Change fieldvue Index equ e target Value and then Field on Change We are going to Set F Value so Let's try and As You can see I can New options so Option One Option per code And after the input We are going to Add a button Variant Ghost S Icon on click e prevent default then const New options then we are going to Copy the options So we are going to spread fieldvue and then New options spli Index One and then Field on Change New options Let's close the button and
(4:14:03) Inside We are going to use an Icon so ai outline Close and you can Import this Icon from react Icons ai Now Let's go to the End of the form and Let's Add a button Inside You are going to put Save then Let's Style this with full wid and let's set Type submit and Before The button We are going to Add a separator then we are also adding a separator Before The form Field of the required field Perfect and then we have to change the BL even so let's Delete submit and let's rename on Blur with on submit then
(4:14:41) We need to change the Mode from on Blur to on submit and then we are going to extract also set selected Element from Us designer Now Back to our apply Change function And after the Element update We are going to Show a notification so tost and you can Import it from ui use tost the title Will Be success and description properties saved successfully and then after the to We are going to Set selected Element to n in Order to close the properties form so Let's try Now We are going to Add Option One then second
(4:15:21) Option then we will Mark this as required and we will also change the Label to be for example Custom Select Let's save it now Let's Check the preview seems good And The Last Thing That we have to fix Inside the Select Field Which will be the most Complex applic is that actually we are not using the Value St Back to our Select and what we are going to is default Value to Value so Now we can try it Let's Add also a text Field Let's Mark it required and also a separator Now Let's Save this Let's publish
(4:15:58) it form details visit Now Let's try to submit and As You can see we have validation errors so let's Select second Option Let's submit again and We still have validation error on text Field so let's put Value here Perfect and Now We are going to Add The last field And after that We are going to improve our submission table and also Row cell rendering So Back to our form Elements Let's extend the Elements Type with the checkbox field then Back to our Project Explorer Fields Let's duplicate the text Field file
(4:16:37) Let's rename it checkbox Field Let's Open it Let's change the Type to checkbox Field Let's remove the placeholder Let's rename text with checkbox then we are going to Delete the placeholder for the properties schema Let's rename text with for Elements into checkbox Field form Element then checkbox Field Let's change the Icon We are going to use iom checkbox Let's Import it so import iom checkbox from Rea Icons then Back to our form Elements file then we are going to Add the checkbox field to our form Elements
(4:17:18) object and let's set checkbox Field form Element that you can Import from Field checkbox Element then Let's go to form Elements Sidebar Let's Copy The Last Sidebar button Element Let's past it and Let's replace Select Field with checkbox Field Perfect Now Back to our checkbox Fields and for this Field We are going to change our validate function if the Element is required we are going to Return Current Value different from True Which is a String Now Let's go to the designer component then Let's remove the
(4:17:54) placeholder variable Let's remove the input then we are going to define const ID Which is a String literal checkbox and Inside We interpolate the Element ID so element.id then Let's Style this div so let's Delete this item stop Space X2 then Let's Add a checkbox that you can Import from components ui checkbox and ID takes ID then Let's Add the HTML for property to the Label and let's set ID Now Let's try the checkbox Okay Let's wrap the Label and Helper text with a div so WP with
(4:18:33) abbreviation div We are going to Style the div grid Gap 1.5 and leading None Perfect Now Let's Move to the form component then we are going to type Value with boolean and then we are going to change the initial Value so if default Value Is equal true then through otherwise false then Let's go back to our designer component then Let's Copy the ID and also The return statement then Back To The form component and we are going to Delete this Return statement and paste the code that we have copied then to our checkbox We are
(4:19:10) going to Add the property checked and we set Value then Class name and we will use CN function if error then Border Red 500 and then on checked Change We will get checked let Value equal false if checked equal equal True then Value equal True set Value Value if submit Value is not defined Return and then const valid equal checkbox for film Element equal checkbox Field form Element do validate Element and the Value will be if the Value is True will be a String True otherwise a String false then we will have set error to
(4:19:54) True if is not valid and then submit Value element.id String Value Now Let's define String Value so const String Value equal and we can and we are going to Write String Value also here Perfect then we are going to Style the Label so Class name CN error and text Red 500 Let's Do the same for the Helper text so let's wrap Everything with the function and then if error Is true then text Red 500 then Let's Move to the properties component and what we need is just to get RID of the placeholder field so let's remove here
(4:20:38) here here and also the form Field That handles the placeholder Which is this One Perfect Now We are going to try it Let's Mark Those As required I agree for example checkbox 2 and then check Let's save it Let's publish anding form button Icons with spinner and can from react Icons fa Now Back to form details Let's visit the form so Let's try to see if the validation Works Let's submit and it is not Working so Let's try to Find Out what is happening Let's log console log Current Value Current
(4:21:35) Value Current valu Empty and The problem I think is that Ok yes The problem is that We need to make this equal by doing this We are going to Return FS only When the field is required and Value is not Let's try Now Perfect Let's try to submit submit test let Sel here perf now back form Builder file and Inside The Use Body we are also going to selected Element to n then we are going to Add this to the dependencies Of The Use Effect h and we are going to extract the function From The Use designer Hook Okay
(4:22:24) Perfect Now we have added all the Elements for our forms so let's go and create our Final form test and in this form We are going to Add all the Fields that we have so let's do that then we are going to make Each Field required so number Field text area date Field Select Field so let's Add Option One Option two required Save and also The checkbox Must Be required Perfect Let's save it Let's publish the form Let's go to form details visit Now We are going to submit and As You can see the validation Works Now Let's fill
(4:23:11) the form so fake Value here 44 text area content Let's pick a date Let's try again the submit function Perfect Let's Pick Option One and Let's Check the checkbox then submit Now Back to our application Let's refresh The Page and As You can see in the submissions table I Can Only see one column so let's go back to our Project Explorer and Let's Go inside up Folder Dashboard forms psx then Let's check where we create the colums and As You can see we are handling Only the text Field So we can
(4:23:48) Add other cases case number Field Let's save it Let's try and As You can see I can see the number F column and As You Can notice I can see it Now then we will have case text area Field then case date Field case Select Field and the last One case checkbox feldes the P Great noting that We Haven modified the default Field names in this form That's why the table columns display default labels like text Field or number Field If you assign a Unique Label to a Field that Label Will appear as the colum Header and we are selecting the
(4:24:28) Fields Type that we want to Show because It will be useless to Show colums for the layout Fields and The Last Thing That We are going to do the Will Be to improve How we render date Fields and also checkbox Fields so let's go back to our Row cell component And after the no definition We are going to switch Type variable case date Field then if Value is not defined We will break then const date equal New date Value and then we are going to change the Node to be a badge component and you can Import it from componen ui badge
(4:25:03) Variant outline and the content of the bge will be Which is a function that you can Import from Date fns of date and Let's the Format Day month then Break and then we will have case checkbox Field then we are going to define con check equal Value equal True and then we are going to change the Node with a checkbox that you can Import from components ui checkbox check takes checked and disabled then break Let's refresh application Perfect As You can see we have created a Custom rowell for the date Field and the checkbox field
(4:25:43) finally We are going to deploy our application on versel and before doing that We Have To Fix the Sign In and Sign up page layout because As You can see is not centered So Back in our Project Explorer Inside The App Folder Copy the layout tsx file that you can find Inside the Dashboard Folder and we are going to paste the file Inside the out Folder so let's paste it Let's Open the user button and then we toit the main name h item Center justify Center Perfect and Now We need to Edit our page.on file in Order to make it work on
(4:26:22) vercell with Prisma and what we are going to do is to add in the scripts object Install and the Value will be Prisma generate Now let go to ver Dashboard And after loging in or signing up we can do is Import our Project from github then we are going to Import the repository in my case is page form repository and now before deploying we have to Set our environment variables so let's Open our DV files and we are going to Add Each variable so let's start by this then this and then we are going to Add our
(4:27:11) postgress Prisma URL and what we can do is just Copy the text Inside the double quotes so let's do that and also Pog URL not pulling Ok That's Perfect Now click deploy and Now we Wait until the deployment phase finishes Now Let's go to the Dashboard and As You can see we have this deployment URL so let's click it click visit and our application is Up And running so Let's try it Everything is Working so That's Perfect Thank you for watching If you need Help Join the discord server that you can find in the video description If
(4:28:00) you Enjoy the video Please Press the like button and subscribe to the channel see you in the next video no
